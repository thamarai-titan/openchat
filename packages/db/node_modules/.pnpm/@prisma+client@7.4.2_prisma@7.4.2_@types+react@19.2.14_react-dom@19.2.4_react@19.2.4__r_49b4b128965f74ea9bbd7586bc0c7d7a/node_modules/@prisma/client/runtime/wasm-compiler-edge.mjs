var xl=Object.create;var mr=Object.defineProperty;var El=Object.getOwnPropertyDescriptor;var Pl=Object.getOwnPropertyNames;var Tl=Object.getPrototypeOf,Al=Object.prototype.hasOwnProperty;var ge=(e,t)=>()=>(e&&(t=e(e=0)),t);var ie=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Rt=(e,t)=>{for(var r in t)mr(e,r,{get:t[r],enumerable:!0})},zi=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Pl(t))!Al.call(e,i)&&i!==r&&mr(e,i,{get:()=>t[i],enumerable:!(n=El(t,i))||n.enumerable});return e};var Ve=(e,t,r)=>(r=e!=null?xl(Tl(e)):{},zi(t||!e||!e.__esModule?mr(r,"default",{value:e,enumerable:!0}):r,e)),Sl=e=>zi(mr({},"__esModule",{value:!0}),e);function An(e,t){if(t=t.toLowerCase(),t==="utf8"||t==="utf-8")return new h(Il.encode(e));if(t==="base64"||t==="base64url")return e=e.replace(/-/g,"+").replace(/_/g,"/"),e=e.replace(/[^A-Za-z0-9+/]/g,""),new h([...atob(e)].map(r=>r.charCodeAt(0)));if(t==="binary"||t==="ascii"||t==="latin1"||t==="latin-1")return new h([...e].map(r=>r.charCodeAt(0)));if(t==="ucs2"||t==="ucs-2"||t==="utf16le"||t==="utf-16le"){let r=new h(e.length*2),n=new DataView(r.buffer);for(let i=0;i<e.length;i++)n.setUint16(i*2,e.charCodeAt(i),!0);return r}if(t==="hex"){let r=new h(e.length/2);for(let n=0,i=0;i<e.length;i+=2,n++)r[n]=parseInt(e.slice(i,i+2),16);return r}Zi(`encoding "${t}"`)}function vl(e){let r=Object.getOwnPropertyNames(DataView.prototype).filter(a=>a.startsWith("get")||a.startsWith("set")),n=r.map(a=>a.replace("get","read").replace("set","write")),i=(a,m)=>function(f=0){return J(f,"offset"),ne(f,"offset"),G(f,"offset",this.length-1),new DataView(this.buffer)[r[a]](f,m)},o=(a,m)=>function(f,P=0){let A=r[a].match(/set(\w+\d+)/)[1].toLowerCase(),v=Cl[A];return J(P,"offset"),ne(P,"offset"),G(P,"offset",this.length-1),Rl(f,"value",v[0],v[1]),new DataView(this.buffer)[r[a]](P,f,m),P+parseInt(r[a].match(/\d+/)[0])/8},s=a=>{a.forEach(m=>{m.includes("Uint")&&(e[m.replace("Uint","UInt")]=e[m]),m.includes("Float64")&&(e[m.replace("Float64","Double")]=e[m]),m.includes("Float32")&&(e[m.replace("Float32","Float")]=e[m])})};n.forEach((a,m)=>{a.startsWith("read")&&(e[a]=i(m,!1),e[a+"LE"]=i(m,!0),e[a+"BE"]=i(m,!1)),a.startsWith("write")&&(e[a]=o(m,!1),e[a+"LE"]=o(m,!0),e[a+"BE"]=o(m,!1)),s([a,a+"LE",a+"BE"])})}function Zi(e){throw new Error(`Buffer polyfill does not implement "${e}"`)}function fr(e,t){if(!(e instanceof Uint8Array))throw new TypeError(`The "${t}" argument must be an instance of Buffer or Uint8Array`)}function G(e,t,r=Nl+1){if(e<0||e>r){let n=new RangeError(`The value of "${t}" is out of range. It must be >= 0 && <= ${r}. Received ${e}`);throw n.code="ERR_OUT_OF_RANGE",n}}function J(e,t){if(typeof e!="number"){let r=new TypeError(`The "${t}" argument must be of type number. Received type ${typeof e}.`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function ne(e,t){if(!Number.isInteger(e)||Number.isNaN(e)){let r=new RangeError(`The value of "${t}" is out of range. It must be an integer. Received ${e}`);throw r.code="ERR_OUT_OF_RANGE",r}}function Rl(e,t,r,n){if(e<r||e>n){let i=new RangeError(`The value of "${t}" is out of range. It must be >= ${r} and <= ${n}. Received ${e}`);throw i.code="ERR_OUT_OF_RANGE",i}}function Ki(e,t){if(typeof e!="string"){let r=new TypeError(`The "${t}" argument must be of type string. Received type ${typeof e}`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function Dl(e,t="utf8"){return h.from(e,t)}var h,Cl,Il,kl,Ol,Nl,g,Sn,u=ge(()=>{"use strict";h=class e extends Uint8Array{_isBuffer=!0;get offset(){return this.byteOffset}static alloc(t,r=0,n="utf8"){return Ki(n,"encoding"),e.allocUnsafe(t).fill(r,n)}static allocUnsafe(t){return e.from(t)}static allocUnsafeSlow(t){return e.from(t)}static isBuffer(t){return t&&!!t._isBuffer}static byteLength(t,r="utf8"){if(typeof t=="string")return An(t,r).byteLength;if(t&&t.byteLength)return t.byteLength;let n=new TypeError('The "string" argument must be of type string or an instance of Buffer or ArrayBuffer.');throw n.code="ERR_INVALID_ARG_TYPE",n}static isEncoding(t){return Ol.includes(t)}static compare(t,r){fr(t,"buff1"),fr(r,"buff2");for(let n=0;n<t.length;n++){if(t[n]<r[n])return-1;if(t[n]>r[n])return 1}return t.length===r.length?0:t.length>r.length?1:-1}static from(t,r="utf8"){if(t&&typeof t=="object"&&t.type==="Buffer")return new e(t.data);if(typeof t=="number")return new e(new Uint8Array(t));if(typeof t=="string")return An(t,r);if(ArrayBuffer.isView(t)){let{byteOffset:n,byteLength:i,buffer:o}=t;return"map"in t&&typeof t.map=="function"?new e(t.map(s=>s%256),n,i):new e(o,n,i)}if(t&&typeof t=="object"&&("length"in t||"byteLength"in t||"buffer"in t))return new e(t);throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}static concat(t,r){if(t.length===0)return e.alloc(0);let n=[].concat(...t.map(o=>[...o])),i=e.alloc(r!==void 0?r:n.length);return i.set(r!==void 0?n.slice(0,r):n),i}slice(t=0,r=this.length){return this.subarray(t,r)}subarray(t=0,r=this.length){return Object.setPrototypeOf(super.subarray(t,r),e.prototype)}reverse(){return super.reverse(),this}readIntBE(t,r){J(t,"offset"),ne(t,"offset"),G(t,"offset",this.length-1),J(r,"byteLength"),ne(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i=i*256+n.getUint8(o);return n.getUint8(0)&128&&(i-=Math.pow(256,r)),i}readIntLE(t,r){J(t,"offset"),ne(t,"offset"),G(t,"offset",this.length-1),J(r,"byteLength"),ne(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i+=n.getUint8(o)*Math.pow(256,o);return n.getUint8(r-1)&128&&(i-=Math.pow(256,r)),i}readUIntBE(t,r){J(t,"offset"),ne(t,"offset"),G(t,"offset",this.length-1),J(r,"byteLength"),ne(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i=i*256+n.getUint8(o);return i}readUintBE(t,r){return this.readUIntBE(t,r)}readUIntLE(t,r){J(t,"offset"),ne(t,"offset"),G(t,"offset",this.length-1),J(r,"byteLength"),ne(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i+=n.getUint8(o)*Math.pow(256,o);return i}readUintLE(t,r){return this.readUIntLE(t,r)}writeIntBE(t,r,n){return t=t<0?t+Math.pow(256,n):t,this.writeUIntBE(t,r,n)}writeIntLE(t,r,n){return t=t<0?t+Math.pow(256,n):t,this.writeUIntLE(t,r,n)}writeUIntBE(t,r,n){J(r,"offset"),ne(r,"offset"),G(r,"offset",this.length-1),J(n,"byteLength"),ne(n,"byteLength");let i=new DataView(this.buffer,r,n);for(let o=n-1;o>=0;o--)i.setUint8(o,t&255),t=t/256;return r+n}writeUintBE(t,r,n){return this.writeUIntBE(t,r,n)}writeUIntLE(t,r,n){J(r,"offset"),ne(r,"offset"),G(r,"offset",this.length-1),J(n,"byteLength"),ne(n,"byteLength");let i=new DataView(this.buffer,r,n);for(let o=0;o<n;o++)i.setUint8(o,t&255),t=t/256;return r+n}writeUintLE(t,r,n){return this.writeUIntLE(t,r,n)}toJSON(){return{type:"Buffer",data:Array.from(this)}}swap16(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=2)t.setUint16(r,t.getUint16(r,!0),!1);return this}swap32(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=4)t.setUint32(r,t.getUint32(r,!0),!1);return this}swap64(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=8)t.setBigUint64(r,t.getBigUint64(r,!0),!1);return this}compare(t,r=0,n=t.length,i=0,o=this.length){return fr(t,"target"),J(r,"targetStart"),J(n,"targetEnd"),J(i,"sourceStart"),J(o,"sourceEnd"),G(r,"targetStart"),G(n,"targetEnd",t.length),G(i,"sourceStart"),G(o,"sourceEnd",this.length),e.compare(this.slice(i,o),t.slice(r,n))}equals(t){return fr(t,"otherBuffer"),this.length===t.length&&this.every((r,n)=>r===t[n])}copy(t,r=0,n=0,i=this.length){G(r,"targetStart"),G(n,"sourceStart",this.length),G(i,"sourceEnd"),r>>>=0,n>>>=0,i>>>=0;let o=0;for(;n<i&&!(this[n]===void 0||t[r]===void 0);)t[r]=this[n],o++,n++,r++;return o}write(t,r,n,i="utf8"){let o=typeof r=="string"?0:r??0,s=typeof n=="string"?this.length-o:n??this.length-o;return i=typeof r=="string"?r:typeof n=="string"?n:i,J(o,"offset"),J(s,"length"),G(o,"offset",this.length),G(s,"length",this.length),(i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")&&(s=s-s%2),An(t,i).copy(this,o,0,s)}fill(t=0,r=0,n=this.length,i="utf-8"){let o=typeof r=="string"?0:r,s=typeof n=="string"?this.length:n;if(i=typeof r=="string"?r:typeof n=="string"?n:i,t=e.from(typeof t=="number"?[t]:t??[],i),Ki(i,"encoding"),G(o,"offset",this.length),G(s,"end",this.length),t.length!==0)for(let a=o;a<s;a+=t.length)super.set(t.slice(0,t.length+a>=this.length?this.length-a:t.length),a);return this}includes(t,r=null,n="utf-8"){return this.indexOf(t,r,n)!==-1}lastIndexOf(t,r=null,n="utf-8"){return this.indexOf(t,r,n,!0)}indexOf(t,r=null,n="utf-8",i=!1){let o=i?this.findLastIndex.bind(this):this.findIndex.bind(this);n=typeof r=="string"?r:n;let s=e.from(typeof t=="number"?[t]:t,n),a=typeof r=="string"?0:r;return a=typeof r=="number"?a:null,a=Number.isNaN(a)?null:a,a??=i?this.length:0,a=a<0?this.length+a:a,s.length===0&&i===!1?a>=this.length?this.length:a:s.length===0&&i===!0?(a>=this.length?this.length:a)||this.length:o((m,f)=>(i?f<=a:f>=a)&&this[f]===s[0]&&s.every((A,v)=>this[f+v]===A))}toString(t="utf8",r=0,n=this.length){if(r=r<0?0:r,t=t.toString().toLowerCase(),n<=0)return"";if(t==="utf8"||t==="utf-8")return kl.decode(this.slice(r,n));if(t==="base64"||t==="base64url"){let i=btoa(this.reduce((o,s)=>o+Sn(s),""));return t==="base64url"?i.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):i}if(t==="binary"||t==="ascii"||t==="latin1"||t==="latin-1")return this.slice(r,n).reduce((i,o)=>i+Sn(o&(t==="ascii"?127:255)),"");if(t==="ucs2"||t==="ucs-2"||t==="utf16le"||t==="utf-16le"){let i=new DataView(this.buffer.slice(r,n));return Array.from({length:i.byteLength/2},(o,s)=>s*2+1<i.byteLength?Sn(i.getUint16(s*2,!0)):"").join("")}if(t==="hex")return this.slice(r,n).reduce((i,o)=>i+o.toString(16).padStart(2,"0"),"");Zi(`encoding "${t}"`)}toLocaleString(){return this.toString()}inspect(){return`<Buffer ${this.toString("hex").match(/.{1,2}/g).join(" ")}>`}};Cl={int8:[-128,127],int16:[-32768,32767],int32:[-2147483648,2147483647],uint8:[0,255],uint16:[0,65535],uint32:[0,4294967295],float32:[-1/0,1/0],float64:[-1/0,1/0],bigint64:[-0x8000000000000000n,0x7fffffffffffffffn],biguint64:[0n,0xffffffffffffffffn]},Il=new TextEncoder,kl=new TextDecoder,Ol=["utf8","utf-8","hex","base64","ascii","binary","base64url","ucs2","ucs-2","utf16le","utf-16le","latin1","latin-1"],Nl=4294967295;vl(h.prototype);g=new Proxy(Dl,{construct(e,[t,r]){return h.from(t,r)},get(e,t){return h[t]}}),Sn=String.fromCodePoint});var y,x,l=ge(()=>{"use strict";y={nextTick:(e,...t)=>{setTimeout(()=>{e(...t)},0)},env:{},version:"",cwd:()=>"/",stderr:{},argv:["/bin/node"],pid:1e4},{cwd:x}=y});var w,c=ge(()=>{"use strict";w=globalThis.performance??(()=>{let e=Date.now();return{now:()=>Date.now()-e}})()});var b,p=ge(()=>{"use strict";b=()=>{};b.prototype=b});function to(e,t){var r,n,i,o,s,a,m,f,P=e.constructor,A=P.precision;if(!e.s||!t.s)return t.s||(t=new P(e)),q?L(t,A):t;if(m=e.d,f=t.d,s=e.e,i=t.e,m=m.slice(),o=s-i,o){for(o<0?(n=m,o=-o,a=f.length):(n=f,i=s,a=m.length),s=Math.ceil(A/$),a=s>a?s+1:a+1,o>a&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(a=m.length,o=f.length,a-o<0&&(o=a,n=f,f=m,m=n),r=0;o;)r=(m[--o]=m[o]+f[o]+r)/W|0,m[o]%=W;for(r&&(m.unshift(r),++i),a=m.length;m[--a]==0;)m.pop();return t.d=m,t.e=i,q?L(t,A):t}function he(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Be+e)}function ye(e){var t,r,n,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)n=e[t]+"",r=$-n.length,r&&(o+=ke(r)),o+=n;s=e[t],n=s+"",r=$-n.length,r&&(o+=ke(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}function ro(e,t){var r,n,i,o,s,a,m=0,f=0,P=e.constructor,A=P.precision;if(H(e)>16)throw Error(Rn+H(e));if(!e.s)return new P(oe);for(t==null?(q=!1,a=A):a=t,s=new P(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(n=Math.log(qe(2,f))/Math.LN10*2+5|0,a+=n,r=i=o=new P(oe),P.precision=a;;){if(i=L(i.times(e),a),r=r.times(++m),s=o.plus(Se(i,r,a)),ye(s.d).slice(0,a)===ye(o.d).slice(0,a)){for(;f--;)o=L(o.times(o),a);return P.precision=A,t==null?(q=!0,L(o,A)):o}o=s}}function H(e){for(var t=e.e*$,r=e.d[0];r>=10;r/=10)t++;return t}function vn(e,t,r){if(t>e.LN10.sd())throw q=!0,r&&(e.precision=r),Error(ae+"LN10 precision limit exceeded");return L(new e(e.LN10),t)}function ke(e){for(var t="";e--;)t+="0";return t}function Ct(e,t){var r,n,i,o,s,a,m,f,P,A=1,v=10,S=e,N=S.d,C=S.constructor,I=C.precision;if(S.s<1)throw Error(ae+(S.s?"NaN":"-Infinity"));if(S.eq(oe))return new C(0);if(t==null?(q=!1,f=I):f=t,S.eq(10))return t==null&&(q=!0),vn(C,f);if(f+=v,C.precision=f,r=ye(N),n=r.charAt(0),o=H(S),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)S=S.times(e),r=ye(S.d),n=r.charAt(0),A++;o=H(S),n>1?(S=new C("0."+r),o++):S=new C(n+"."+r.slice(1))}else return m=vn(C,f+2,I).times(o+""),S=Ct(new C(n+"."+r.slice(1)),f-v).plus(m),C.precision=I,t==null?(q=!0,L(S,I)):S;for(a=s=S=Se(S.minus(oe),S.plus(oe),f),P=L(S.times(S),f),i=3;;){if(s=L(s.times(P),f),m=a.plus(Se(s,new C(i),f)),ye(m.d).slice(0,f)===ye(a.d).slice(0,f))return a=a.times(2),o!==0&&(a=a.plus(vn(C,f+2,I).times(o+""))),a=Se(a,new C(A),f),C.precision=I,t==null?(q=!0,L(a,I)):a;a=m,i+=2}}function Yi(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=tt(r/$),e.d=[],n=(r+1)%$,r<0&&(n+=$),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=$;n<i;)e.d.push(+t.slice(n,n+=$));t=t.slice(n),n=$-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),q&&(e.e>gr||e.e<-gr))throw Error(Rn+r)}else e.s=0,e.e=0,e.d=[0];return e}function L(e,t,r){var n,i,o,s,a,m,f,P,A=e.d;for(s=1,o=A[0];o>=10;o/=10)s++;if(n=t-s,n<0)n+=$,i=t,f=A[P=0];else{if(P=Math.ceil((n+1)/$),o=A.length,P>=o)return e;for(f=o=A[P],s=1;o>=10;o/=10)s++;n%=$,i=n-$+s}if(r!==void 0&&(o=qe(10,s-i-1),a=f/o%10|0,m=t<0||A[P+1]!==void 0||f%o,m=r<4?(a||m)&&(r==0||r==(e.s<0?3:2)):a>5||a==5&&(r==4||m||r==6&&(n>0?i>0?f/qe(10,s-i):0:A[P-1])%10&1||r==(e.s<0?8:7))),t<1||!A[0])return m?(o=H(e),A.length=1,t=t-o-1,A[0]=qe(10,($-t%$)%$),e.e=tt(-t/$)||0):(A.length=1,A[0]=e.e=e.s=0),e;if(n==0?(A.length=P,o=1,P--):(A.length=P+1,o=qe(10,$-n),A[P]=i>0?(f/qe(10,s-i)%qe(10,i)|0)*o:0),m)for(;;)if(P==0){(A[0]+=o)==W&&(A[0]=1,++e.e);break}else{if(A[P]+=o,A[P]!=W)break;A[P--]=0,o=1}for(n=A.length;A[--n]===0;)A.pop();if(q&&(e.e>gr||e.e<-gr))throw Error(Rn+H(e));return e}function no(e,t){var r,n,i,o,s,a,m,f,P,A,v=e.constructor,S=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),q?L(t,S):t;if(m=e.d,A=t.d,n=t.e,f=e.e,m=m.slice(),s=f-n,s){for(P=s<0,P?(r=m,s=-s,a=A.length):(r=A,n=f,a=m.length),i=Math.max(Math.ceil(S/$),a)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=m.length,a=A.length,P=i<a,P&&(a=i),i=0;i<a;i++)if(m[i]!=A[i]){P=m[i]<A[i];break}s=0}for(P&&(r=m,m=A,A=r,t.s=-t.s),a=m.length,i=A.length-a;i>0;--i)m[a++]=0;for(i=A.length;i>s;){if(m[--i]<A[i]){for(o=i;o&&m[--o]===0;)m[o]=W-1;--m[o],m[i]+=W}m[i]-=A[i]}for(;m[--a]===0;)m.pop();for(;m[0]===0;m.shift())--n;return m[0]?(t.d=m,t.e=n,q?L(t,S):t):new v(0)}function je(e,t,r){var n,i=H(e),o=ye(e.d),s=o.length;return t?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+ke(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ke(-i-1)+o,r&&(n=r-s)>0&&(o+=ke(n))):i>=s?(o+=ke(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+ke(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=ke(n))),e.s<0?"-"+o:o}function Xi(e,t){if(e.length>t)return e.length=t,!0}function io(e){var t,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Be+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Yi(s,o.toString())}else if(typeof o!="string")throw Error(Be+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Ll.test(o))Yi(s,o);else throw Error(Be+o)}if(i.prototype=R,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=io,i.config=i.set=_l,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function _l(e){if(!e||typeof e!="object")throw Error(ae+"Object expected");var t,r,n,i=["precision",1,et,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(tt(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Be+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Be+r+": "+n);return this}var et,Ml,oo,q,ae,Be,Rn,tt,qe,Ll,oe,W,$,eo,gr,R,Se,oo,so=ge(()=>{"use strict";u();l();c();p();d();et=1e9,Ml={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},q=!0,ae="[DecimalError] ",Be=ae+"Invalid argument: ",Rn=ae+"Exponent out of range: ",tt=Math.floor,qe=Math.pow,Ll=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,W=1e7,$=7,eo=9007199254740991,gr=tt(eo/$),R={};R.absoluteValue=R.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};R.comparedTo=R.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};R.decimalPlaces=R.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*$;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};R.dividedBy=R.div=function(e){return Se(this,new this.constructor(e))};R.dividedToIntegerBy=R.idiv=function(e){var t=this,r=t.constructor;return L(Se(t,new r(e),0,1),r.precision)};R.equals=R.eq=function(e){return!this.cmp(e)};R.exponent=function(){return H(this)};R.greaterThan=R.gt=function(e){return this.cmp(e)>0};R.greaterThanOrEqualTo=R.gte=function(e){return this.cmp(e)>=0};R.isInteger=R.isint=function(){return this.e>this.d.length-2};R.isNegative=R.isneg=function(){return this.s<0};R.isPositive=R.ispos=function(){return this.s>0};R.isZero=function(){return this.s===0};R.lessThan=R.lt=function(e){return this.cmp(e)<0};R.lessThanOrEqualTo=R.lte=function(e){return this.cmp(e)<1};R.logarithm=R.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(oe))throw Error(ae+"NaN");if(r.s<1)throw Error(ae+(r.s?"NaN":"-Infinity"));return r.eq(oe)?new n(0):(q=!1,t=Se(Ct(r,o),Ct(e,o),o),q=!0,L(t,i))};R.minus=R.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?no(t,e):to(t,(e.s=-e.s,e))};R.modulo=R.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(ae+"NaN");return r.s?(q=!1,t=Se(r,e,0,1).times(e),q=!0,r.minus(t)):L(new n(r),i)};R.naturalExponential=R.exp=function(){return ro(this)};R.naturalLogarithm=R.ln=function(){return Ct(this)};R.negated=R.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};R.plus=R.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?to(t,e):no(t,(e.s=-e.s,e))};R.precision=R.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Be+e);if(t=H(i)+1,n=i.d.length-1,r=n*$+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};R.squareRoot=R.sqrt=function(){var e,t,r,n,i,o,s,a=this,m=a.constructor;if(a.s<1){if(!a.s)return new m(0);throw Error(ae+"NaN")}for(e=H(a),q=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=ye(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=tt((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new m(t)):n=new m(i.toString()),r=m.precision,i=s=r+3;;)if(o=n,n=o.plus(Se(a,o,s+2)).times(.5),ye(o.d).slice(0,s)===(t=ye(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(L(o,r+1,0),o.times(o).eq(a)){n=o;break}}else if(t!="9999")break;s+=4}return q=!0,L(n,r)};R.times=R.mul=function(e){var t,r,n,i,o,s,a,m,f,P=this,A=P.constructor,v=P.d,S=(e=new A(e)).d;if(!P.s||!e.s)return new A(0);for(e.s*=P.s,r=P.e+e.e,m=v.length,f=S.length,m<f&&(o=v,v=S,S=o,s=m,m=f,f=s),o=[],s=m+f,n=s;n--;)o.push(0);for(n=f;--n>=0;){for(t=0,i=m+n;i>n;)a=o[i]+S[n]*v[i-n-1]+t,o[i--]=a%W|0,t=a/W|0;o[i]=(o[i]+t)%W|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,q?L(e,A.precision):e};R.toDecimalPlaces=R.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(he(e,0,et),t===void 0?t=n.rounding:he(t,0,8),L(r,e+H(r)+1,t))};R.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=je(n,!0):(he(e,0,et),t===void 0?t=i.rounding:he(t,0,8),n=L(new i(n),e+1,t),r=je(n,!0,e+1)),r};R.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?je(i):(he(e,0,et),t===void 0?t=o.rounding:he(t,0,8),n=L(new o(i),e+H(i)+1,t),r=je(n.abs(),!1,e+H(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};R.toInteger=R.toint=function(){var e=this,t=e.constructor;return L(new t(e),H(e)+1,t.rounding)};R.toNumber=function(){return+this};R.toPower=R.pow=function(e){var t,r,n,i,o,s,a=this,m=a.constructor,f=12,P=+(e=new m(e));if(!e.s)return new m(oe);if(a=new m(a),!a.s){if(e.s<1)throw Error(ae+"Infinity");return a}if(a.eq(oe))return a;if(n=m.precision,e.eq(oe))return L(a,n);if(t=e.e,r=e.d.length-1,s=t>=r,o=a.s,s){if((r=P<0?-P:P)<=eo){for(i=new m(oe),t=Math.ceil(n/$+4),q=!1;r%2&&(i=i.times(a),Xi(i.d,t)),r=tt(r/2),r!==0;)a=a.times(a),Xi(a.d,t);return q=!0,e.s<0?new m(oe).div(i):L(i,n)}}else if(o<0)throw Error(ae+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,a.s=1,q=!1,i=e.times(Ct(a,n+f)),q=!0,i=ro(i),i.s=o,i};R.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=H(i),n=je(i,r<=o.toExpNeg||r>=o.toExpPos)):(he(e,1,et),t===void 0?t=o.rounding:he(t,0,8),i=L(new o(i),e,t),r=H(i),n=je(i,e<=r||r<=o.toExpNeg,e)),n};R.toSignificantDigits=R.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(he(e,1,et),t===void 0?t=n.rounding:he(t,0,8)),L(new n(r),e,t)};R.toString=R.valueOf=R.val=R.toJSON=R[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=H(e),r=e.constructor;return je(e,t<=r.toExpNeg||t>=r.toExpPos)};Se=function(){function e(n,i){var o,s=0,a=n.length;for(n=n.slice();a--;)o=n[a]*i+s,n[a]=o%W|0,s=o/W|0;return s&&n.unshift(s),n}function t(n,i,o,s){var a,m;if(o!=s)m=o>s?1:-1;else for(a=m=0;a<o;a++)if(n[a]!=i[a]){m=n[a]>i[a]?1:-1;break}return m}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*W+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var a,m,f,P,A,v,S,N,C,I,X,j,_,re,Ue,Tn,de,pr,dr=n.constructor,bl=n.s==i.s?1:-1,fe=n.d,Q=i.d;if(!n.s)return new dr(n);if(!i.s)throw Error(ae+"Division by zero");for(m=n.e-i.e,de=Q.length,Ue=fe.length,S=new dr(bl),N=S.d=[],f=0;Q[f]==(fe[f]||0);)++f;if(Q[f]>(fe[f]||0)&&--m,o==null?j=o=dr.precision:s?j=o+(H(n)-H(i))+1:j=o,j<0)return new dr(0);if(j=j/$+2|0,f=0,de==1)for(P=0,Q=Q[0],j++;(f<Ue||P)&&j--;f++)_=P*W+(fe[f]||0),N[f]=_/Q|0,P=_%Q|0;else{for(P=W/(Q[0]+1)|0,P>1&&(Q=e(Q,P),fe=e(fe,P),de=Q.length,Ue=fe.length),re=de,C=fe.slice(0,de),I=C.length;I<de;)C[I++]=0;pr=Q.slice(),pr.unshift(0),Tn=Q[0],Q[1]>=W/2&&++Tn;do P=0,a=t(Q,C,de,I),a<0?(X=C[0],de!=I&&(X=X*W+(C[1]||0)),P=X/Tn|0,P>1?(P>=W&&(P=W-1),A=e(Q,P),v=A.length,I=C.length,a=t(A,C,v,I),a==1&&(P--,r(A,de<v?pr:Q,v))):(P==0&&(a=P=1),A=Q.slice()),v=A.length,v<I&&A.unshift(0),r(C,A,I),a==-1&&(I=C.length,a=t(Q,C,de,I),a<1&&(P++,r(C,de<I?pr:Q,I))),I=C.length):a===0&&(P++,C=[0]),N[f++]=P,a&&C[0]?C[I++]=fe[re]||0:(C=[fe[re]],I=1);while((re++<Ue||C[0]!==void 0)&&j--)}return N[0]||N.shift(),S.e=m,L(S,s?o+H(S)+1:o)}}();oo=io(Ml);oe=new oo(1)});var d=ge(()=>{"use strict";so()});var On={};Rt(On,{Hash:()=>Nt,createHash:()=>Ro,default:()=>nt,randomFillSync:()=>xr,randomUUID:()=>br,webcrypto:()=>Dt});function br(){return globalThis.crypto.randomUUID()}function xr(e,t,r){return t!==void 0&&(r!==void 0?e=e.subarray(t,t+r):e=e.subarray(t)),globalThis.crypto.getRandomValues(e)}function Ro(e){return new Nt(e)}var Dt,Nt,nt,Qe=ge(()=>{"use strict";u();l();c();p();d();Dt=globalThis.crypto;Nt=class{#e=[];#t;constructor(t){this.#t=t}update(t){this.#e.push(t)}async digest(){let t=new Uint8Array(this.#e.reduce((i,o)=>i+o.length,0)),r=0;for(let i of this.#e)t.set(i,r),r+=i.length;let n=await globalThis.crypto.subtle.digest(this.#t,t);return new Uint8Array(n)}},nt={webcrypto:Dt,randomUUID:br,randomFillSync:xr,createHash:Ro,Hash:Nt}});var Co=ie(()=>{"use strict";u();l();c();p();d()});var Io=ie((Wy,jl)=>{jl.exports={name:"@prisma/engines-version",version:"7.5.0-10.94a226be1cf2967af2541cca5529f0f7ba866919",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"94a226be1cf2967af2541cca5529f0f7ba866919"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}});var ko=ie(Er=>{"use strict";u();l();c();p();d();Object.defineProperty(Er,"__esModule",{value:!0});Er.enginesVersion=void 0;Er.enginesVersion=Io().prisma.enginesVersion});var Mo=ie((ah,Do)=>{"use strict";u();l();c();p();d();Do.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}});var _o=ie(($h,Tr)=>{"use strict";u();l();c();p();d();Tr.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let r=new URL(`${t}/issues/new`),n=["body","title","labels","template","milestone","assignee","projects"];for(let i of n){let o=e[i];if(o!==void 0){if(i==="labels"||i==="projects"){if(!Array.isArray(o))throw new TypeError(`The \`${i}\` option should be an array`);o=o.join(",")}r.searchParams.set(i,o)}}return r.toString()};Tr.exports.default=Tr.exports});var Fn=ie((Rb,Uo)=>{"use strict";u();l();c();p();d();Uo.exports=function(){function e(t,r,n,i,o){return t<r||n<r?t>n?n+1:t+1:i===o?r:r+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,o=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(o-1);)i--,o--;for(var s=0;s<i&&t.charCodeAt(s)===r.charCodeAt(s);)s++;if(i-=s,o-=s,i===0||o<3)return o;var a=0,m,f,P,A,v,S,N,C,I,X,j,_,re=[];for(m=0;m<i;m++)re.push(m+1),re.push(t.charCodeAt(s+m));for(var Ue=re.length-1;a<o-3;)for(I=r.charCodeAt(s+(f=a)),X=r.charCodeAt(s+(P=a+1)),j=r.charCodeAt(s+(A=a+2)),_=r.charCodeAt(s+(v=a+3)),S=a+=4,m=0;m<Ue;m+=2)N=re[m],C=re[m+1],f=e(N,f,P,I,C),P=e(f,P,A,X,C),A=e(P,A,v,j,C),S=e(A,v,S,_,C),re[m]=S,v=A,A=P,P=f,f=N;for(;a<o;)for(I=r.charCodeAt(s+(f=a)),S=++a,m=0;m<Ue;m+=2)N=re[m],re[m]=S=e(N,f,S,I,re[m+1]),f=N;return S}}()});var Qo=ge(()=>{"use strict";u();l();c();p();d()});var Jo=ge(()=>{"use strict";u();l();c();p();d()});var Vr,ps=ge(()=>{"use strict";u();l();c();p();d();Vr=class{events={};on(t,r){return this.events[t]||(this.events[t]=[]),this.events[t].push(r),this}emit(t,...r){return this.events[t]?(this.events[t].forEach(n=>{n(...r)}),!0):!1}}});var oi=ie(Ge=>{"use strict";u();l();c();p();d();Object.defineProperty(Ge,"__esModule",{value:!0});Ge.anumber=ii;Ge.abytes=ra;Ge.ahash=Bp;Ge.aexists=jp;Ge.aoutput=Qp;function ii(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function qp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ra(e,...t){if(!qp(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Bp(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ii(e.outputLen),ii(e.blockLen)}function jp(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Qp(e,t){ra(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}});var Aa=ie(O=>{"use strict";u();l();c();p();d();Object.defineProperty(O,"__esModule",{value:!0});O.add5L=O.add5H=O.add4H=O.add4L=O.add3H=O.add3L=O.rotlBL=O.rotlBH=O.rotlSL=O.rotlSH=O.rotr32L=O.rotr32H=O.rotrBL=O.rotrBH=O.rotrSL=O.rotrSH=O.shrSL=O.shrSH=O.toBig=void 0;O.fromBig=ai;O.split=na;O.add=ha;var Kr=BigInt(2**32-1),si=BigInt(32);function ai(e,t=!1){return t?{h:Number(e&Kr),l:Number(e>>si&Kr)}:{h:Number(e>>si&Kr)|0,l:Number(e&Kr)|0}}function na(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=ai(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var ia=(e,t)=>BigInt(e>>>0)<<si|BigInt(t>>>0);O.toBig=ia;var oa=(e,t,r)=>e>>>r;O.shrSH=oa;var sa=(e,t,r)=>e<<32-r|t>>>r;O.shrSL=sa;var aa=(e,t,r)=>e>>>r|t<<32-r;O.rotrSH=aa;var ua=(e,t,r)=>e<<32-r|t>>>r;O.rotrSL=ua;var la=(e,t,r)=>e<<64-r|t>>>r-32;O.rotrBH=la;var ca=(e,t,r)=>e>>>r-32|t<<64-r;O.rotrBL=ca;var pa=(e,t)=>t;O.rotr32H=pa;var da=(e,t)=>e;O.rotr32L=da;var ma=(e,t,r)=>e<<r|t>>>32-r;O.rotlSH=ma;var fa=(e,t,r)=>t<<r|e>>>32-r;O.rotlSL=fa;var ga=(e,t,r)=>t<<r-32|e>>>64-r;O.rotlBH=ga;var ya=(e,t,r)=>e<<r-32|t>>>64-r;O.rotlBL=ya;function ha(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var wa=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);O.add3L=wa;var ba=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;O.add3H=ba;var xa=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);O.add4L=xa;var Ea=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;O.add4H=Ea;var Pa=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);O.add5L=Pa;var Ta=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;O.add5H=Ta;var Jp={fromBig:ai,split:na,toBig:ia,shrSH:oa,shrSL:sa,rotrSH:aa,rotrSL:ua,rotrBH:la,rotrBL:ca,rotr32H:pa,rotr32L:da,rotlSH:ma,rotlSL:fa,rotlBH:ga,rotlBL:ya,add:ha,add3L:wa,add3H:ba,add4L:xa,add4H:Ea,add5H:Ta,add5L:Pa};O.default=Jp});var Sa=ie(Zr=>{"use strict";u();l();c();p();d();Object.defineProperty(Zr,"__esModule",{value:!0});Zr.crypto=void 0;var Le=(Qe(),Sl(On));Zr.crypto=Le&&typeof Le=="object"&&"webcrypto"in Le?Le.webcrypto:Le&&typeof Le=="object"&&"randomBytes"in Le?Le:void 0});var Ca=ie(D=>{"use strict";u();l();c();p();d();Object.defineProperty(D,"__esModule",{value:!0});D.Hash=D.nextTick=D.byteSwapIfBE=D.isLE=void 0;D.isBytes=Hp;D.u8=Gp;D.u32=Wp;D.createView=zp;D.rotr=Kp;D.rotl=Zp;D.byteSwap=ci;D.byteSwap32=Yp;D.bytesToHex=ed;D.hexToBytes=td;D.asyncLoop=nd;D.utf8ToBytes=Ra;D.toBytes=Yr;D.concatBytes=id;D.checkOpts=od;D.wrapConstructor=sd;D.wrapConstructorWithOpts=ad;D.wrapXOFConstructorWithOpts=ud;D.randomBytes=ld;var bt=Sa(),li=oi();function Hp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Gp(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function Wp(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function zp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Kp(e,t){return e<<32-t|e>>>t}function Zp(e,t){return e<<t|e>>>32-t>>>0}D.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ci(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}D.byteSwapIfBE=D.isLE?e=>e:e=>ci(e);function Yp(e){for(let t=0;t<e.length;t++)e[t]=ci(e[t])}var Xp=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ed(e){(0,li.abytes)(e);let t="";for(let r=0;r<e.length;r++)t+=Xp[e[r]];return t}var Re={_0:48,_9:57,A:65,F:70,a:97,f:102};function va(e){if(e>=Re._0&&e<=Re._9)return e-Re._0;if(e>=Re.A&&e<=Re.F)return e-(Re.A-10);if(e>=Re.a&&e<=Re.f)return e-(Re.a-10)}function td(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=va(e.charCodeAt(o)),a=va(e.charCodeAt(o+1));if(s===void 0||a===void 0){let m=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+m+'" at index '+o)}n[i]=s*16+a}return n}var rd=async()=>{};D.nextTick=rd;async function nd(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let o=Date.now()-n;o>=0&&o<t||(await(0,D.nextTick)(),n+=o)}}function Ra(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Yr(e){return typeof e=="string"&&(e=Ra(e)),(0,li.abytes)(e),e}function id(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];(0,li.abytes)(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var ui=class{clone(){return this._cloneInto()}};D.Hash=ui;function od(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function sd(e){let t=n=>e().update(Yr(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function ad(e){let t=(n,i)=>e(i).update(Yr(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function ud(e){let t=(n,i)=>e(i).update(Yr(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function ld(e=32){if(bt.crypto&&typeof bt.crypto.getRandomValues=="function")return bt.crypto.getRandomValues(new Uint8Array(e));if(bt.crypto&&typeof bt.crypto.randomBytes=="function")return bt.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}});var _a=ie(V=>{"use strict";u();l();c();p();d();Object.defineProperty(V,"__esModule",{value:!0});V.shake256=V.shake128=V.keccak_512=V.keccak_384=V.keccak_256=V.keccak_224=V.sha3_512=V.sha3_384=V.sha3_256=V.sha3_224=V.Keccak=void 0;V.keccakP=Ma;var xt=oi(),zt=Aa(),Ce=Ca(),Oa=[],Na=[],Da=[],cd=BigInt(0),Wt=BigInt(1),pd=BigInt(2),dd=BigInt(7),md=BigInt(256),fd=BigInt(113);for(let e=0,t=Wt,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Oa.push(2*(5*n+r)),Na.push((e+1)*(e+2)/2%64);let i=cd;for(let o=0;o<7;o++)t=(t<<Wt^(t>>dd)*fd)%md,t&pd&&(i^=Wt<<(Wt<<BigInt(o))-Wt);Da.push(i)}var[gd,yd]=(0,zt.split)(Da,!0),Ia=(e,t,r)=>r>32?(0,zt.rotlBH)(e,t,r):(0,zt.rotlSH)(e,t,r),ka=(e,t,r)=>r>32?(0,zt.rotlBL)(e,t,r):(0,zt.rotlSL)(e,t,r);function Ma(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,m=(s+2)%10,f=r[m],P=r[m+1],A=Ia(f,P,1)^r[a],v=ka(f,P,1)^r[a+1];for(let S=0;S<50;S+=10)e[s+S]^=A,e[s+S+1]^=v}let i=e[2],o=e[3];for(let s=0;s<24;s++){let a=Na[s],m=Ia(i,o,a),f=ka(i,o,a),P=Oa[s];i=e[P],o=e[P+1],e[P]=m,e[P+1]=f}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=gd[n],e[1]^=yd[n]}r.fill(0)}var Kt=class e extends Ce.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,xt.anumber)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Ce.u32)(this.state)}keccak(){Ce.isLE||(0,Ce.byteSwap32)(this.state32),Ma(this.state32,this.rounds),Ce.isLE||(0,Ce.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,xt.aexists)(this);let{blockLen:r,state:n}=this;t=(0,Ce.toBytes)(t);let i=t.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,xt.aexists)(this,!1),(0,xt.abytes)(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,xt.anumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,xt.aoutput)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new e(r,n,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};V.Keccak=Kt;var _e=(e,t,r)=>(0,Ce.wrapConstructor)(()=>new Kt(t,e,r));V.sha3_224=_e(6,144,224/8);V.sha3_256=_e(6,136,256/8);V.sha3_384=_e(6,104,384/8);V.sha3_512=_e(6,72,512/8);V.keccak_224=_e(1,144,224/8);V.keccak_256=_e(1,136,256/8);V.keccak_384=_e(1,104,384/8);V.keccak_512=_e(1,72,512/8);var La=(e,t,r)=>(0,Ce.wrapXOFConstructorWithOpts)((n={})=>new Kt(t,e,n.dkLen===void 0?r:n.dkLen,!0));V.shake128=La(31,168,128/8);V.shake256=La(31,136,256/8)});var Qa=ie((cO,Fe)=>{"use strict";u();l();c();p();d();var{sha3_512:hd}=_a(),$a=24,Zt=32,pi=(e=4,t=Math.random)=>{let r="";for(;r.length<e;)r=r+Math.floor(t()*36).toString(36);return r};function Ua(e){let t=8n,r=0n;for(let n of e.values()){let i=BigInt(n);r=(r<<t)+i}return r}var Va=(e="")=>Ua(hd(e)).toString(36).slice(1),Fa=Array.from({length:26},(e,t)=>String.fromCharCode(t+97)),wd=e=>Fa[Math.floor(e()*Fa.length)],qa=({globalObj:e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{},random:t=Math.random}={})=>{let r=Object.keys(e).toString(),n=r.length?r+pi(Zt,t):pi(Zt,t);return Va(n).substring(0,Zt)},Ba=e=>()=>e++,bd=476782367,ja=({random:e=Math.random,counter:t=Ba(Math.floor(e()*bd)),length:r=$a,fingerprint:n=qa({random:e})}={})=>function(){let o=wd(e),s=Date.now().toString(36),a=t().toString(36),m=pi(r,e),f=`${s+m+a+n}`;return`${o+Va(f).substring(1,r)}`},xd=ja(),Ed=(e,{minLength:t=2,maxLength:r=Zt}={})=>{let n=e.length,i=/^[0-9a-z]+$/;try{if(typeof e=="string"&&n>=t&&n<=r&&i.test(e))return!0}finally{}return!1};Fe.exports.getConstants=()=>({defaultLength:$a,bigLength:Zt});Fe.exports.init=ja;Fe.exports.createId=xd;Fe.exports.bufToBigInt=Ua;Fe.exports.createCounter=Ba;Fe.exports.createFingerprint=qa;Fe.exports.isCuid=Ed});var Ja=ie((yO,Yt)=>{"use strict";u();l();c();p();d();var{createId:Pd,init:Td,getConstants:Ad,isCuid:Sd}=Qa();Yt.exports.createId=Pd;Yt.exports.init=Td;Yt.exports.getConstants=Ad;Yt.exports.isCuid=Sd});u();l();c();p();d();var lo={};Rt(lo,{defineExtension:()=>ao,getExtensionContext:()=>uo});u();l();c();p();d();u();l();c();p();d();function ao(e){return typeof e=="function"?e:t=>t.$extends(e)}u();l();c();p();d();function uo(e){return e}var po={};Rt(po,{validator:()=>co});u();l();c();p();d();u();l();c();p();d();function co(...e){return t=>t}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();var we=class{_map=new Map;get(t){return this._map.get(t)?.value}set(t,r){this._map.set(t,{value:r})}getOrCreate(t,r){let n=this._map.get(t);if(n)return n.value;let i=r();return this.set(t,i),i}};u();l();c();p();d();function Oe(e){return e.substring(0,1).toLowerCase()+e.substring(1)}u();l();c();p();d();function mo(e,t){let r={};for(let n of e){let i=n[t];r[i]=n}return r}u();l();c();p();d();function It(e){let t;return{get(){return t||(t={value:e()}),t.value}}}u();l();c();p();d();function Fl(e){return{models:Cn(e.models),enums:Cn(e.enums),types:Cn(e.types)}}function Cn(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}import{isAnyNull as Dc,isDbNull as Mc,isJsonNull as Lc,ObjectEnumValue as _c}from"@prisma/client-runtime-utils";u();l();c();p();d();u();l();c();p();d();var In,fo,go,yo,ho=!0;typeof y<"u"&&({FORCE_COLOR:In,NODE_DISABLE_COLORS:fo,NO_COLOR:go,TERM:yo}=y.env||{},ho=y.stdout&&y.stdout.isTTY);var $l={enabled:!fo&&go==null&&yo!=="dumb"&&(In!=null&&In!=="0"||ho)};function F(e,t){let r=new RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1B[${e}m`,i=`\x1B[${t}m`;return function(o){return!$l.enabled||o==null?o:n+(~(""+o).indexOf(i)?o.replace(r,i+n):o)+i}}var Zg=F(0,0),yr=F(1,22),hr=F(2,22),Yg=F(3,23),wr=F(4,24),Xg=F(7,27),ey=F(8,28),ty=F(9,29),ry=F(30,39),rt=F(31,39),wo=F(32,39),bo=F(33,39),xo=F(34,39),ny=F(35,39),Eo=F(36,39),iy=F(37,39),Po=F(90,39),oy=F(90,39),sy=F(40,49),ay=F(41,49),uy=F(42,49),ly=F(43,49),cy=F(44,49),py=F(45,49),dy=F(46,49),my=F(47,49);u();l();c();p();d();var Ul=100,To=["green","yellow","blue","magenta","cyan","red"],kt=[],Ao=Date.now(),Vl=0,kn=typeof y<"u"?y.env:{};globalThis.DEBUG??=kn.DEBUG??"";globalThis.DEBUG_COLORS??=kn.DEBUG_COLORS?kn.DEBUG_COLORS==="true":!0;var Ot={enable(e){typeof e=="string"&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(i=>i.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(i=>i===""||i[0]==="-"?!1:e.match(RegExp(i.split("*").join(".*")+"$"))),n=t.some(i=>i===""||i[0]!=="-"?!1:e.match(RegExp(i.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}};function ql(e){let t={color:To[Vl++%To.length],enabled:Ot.enabled(e),namespace:e,log:Ot.log,extend:()=>{}},r=(...n)=>{let{enabled:i,namespace:o,color:s,log:a}=t;if(n.length!==0&&kt.push([o,...n]),kt.length>Ul&&kt.shift(),Ot.enabled(o)||i){let m=n.map(P=>typeof P=="string"?P:Bl(P)),f=`+${Date.now()-Ao}ms`;Ao=Date.now(),a(o,...m,f)}};return new Proxy(r,{get:(n,i)=>t[i],set:(n,i,o)=>t[i]=o})}var ee=new Proxy(ql,{get:(e,t)=>Ot[t],set:(e,t,r)=>Ot[t]=r});function Bl(e,t=2){let r=new Set;return JSON.stringify(e,(n,i)=>{if(typeof i=="object"&&i!==null){if(r.has(i))return"[Circular *]";r.add(i)}else if(typeof i=="bigint")return i.toString();return i},t)}function So(e=7500){let t=kt.map(([r,...n])=>`${r} ${n.map(i=>typeof i=="string"?i:JSON.stringify(i)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}function vo(){kt.length=0}u();l();c();p();d();u();l();c();p();d();var Oo="prisma+postgres",Pr=`${Oo}:`;function No(e){return e?.toString().startsWith(`${Pr}//`)??!1}function Nn(e){if(!No(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}var Lt={};Rt(Lt,{error:()=>Hl,info:()=>Jl,log:()=>Ql,query:()=>Gl,should:()=>Lo,tags:()=>Mt,warn:()=>Dn});u();l();c();p();d();var Mt={error:rt("prisma:error"),warn:bo("prisma:warn"),info:Eo("prisma:info"),query:xo("prisma:query")},Lo={warn:()=>!y.env.PRISMA_DISABLE_WARNINGS};function Ql(...e){console.log(...e)}function Dn(e,...t){Lo.warn()&&console.warn(`${Mt.warn} ${e}`,...t)}function Jl(e,...t){console.info(`${Mt.info} ${e}`,...t)}function Hl(e,...t){console.error(`${Mt.error} ${e}`,...t)}function Gl(e,...t){console.log(`${Mt.query} ${e}`,...t)}u();l();c();p();d();function ve(e,t){throw new Error(t)}u();l();c();p();d();u();l();c();p();d();function Mn({onlyFirst:e=!1}={}){let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(r,e?void 0:"g")}var Wl=Mn();function it(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Wl,"")}u();l();c();p();d();function Ln(e,t){return Object.prototype.hasOwnProperty.call(e,t)}u();l();c();p();d();function Ar(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}u();l();c();p();d();function _n(e,t){if(e.length===0)return;let r=e[0];for(let n=1;n<e.length;n++)t(r,e[n])<0&&(r=e[n]);return r}u();l();c();p();d();function _t(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}u();l();c();p();d();var Fo=new Set,$o=(e,t,...r)=>{Fo.has(e)||(Fo.add(e),Dn(t,...r))};u();l();c();p();d();function ot(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Sr(e){return e.toString()!=="Invalid Date"}u();l();c();p();d();import{Decimal as zl}from"@prisma/client-runtime-utils";function st(e){return zl.isDecimal(e)?!0:e!==null&&typeof e=="object"&&typeof e.s=="number"&&typeof e.e=="number"&&typeof e.toFixed=="function"&&Array.isArray(e.d)}u();l();c();p();d();import{PrismaClientValidationError as Ic}from"@prisma/client-runtime-utils";u();l();c();p();d();var vr={};Rt(vr,{ModelAction:()=>Ft,datamodelEnumToSchemaEnum:()=>Kl});u();l();c();p();d();u();l();c();p();d();function Kl(e){return{name:e.name,values:e.values.map(t=>t.name)}}u();l();c();p();d();var Ft=(_=>(_.findUnique="findUnique",_.findUniqueOrThrow="findUniqueOrThrow",_.findFirst="findFirst",_.findFirstOrThrow="findFirstOrThrow",_.findMany="findMany",_.create="create",_.createMany="createMany",_.createManyAndReturn="createManyAndReturn",_.update="update",_.updateMany="updateMany",_.updateManyAndReturn="updateManyAndReturn",_.upsert="upsert",_.delete="delete",_.deleteMany="deleteMany",_.groupBy="groupBy",_.count="count",_.aggregate="aggregate",_.findRaw="findRaw",_.aggregateRaw="aggregateRaw",_))(Ft||{});var Zl=Ve(Mo());var Yl={red:rt,gray:Po,dim:hr,bold:yr,underline:wr,highlightSource:e=>e.highlight()},Xl={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function ec({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}function tc({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:o},s){let a=[""],m=t?" in":":";if(n?(a.push(s.red(`Oops, an unknown error occurred! This is ${s.bold("on us")}, you did nothing wrong.`)),a.push(s.red(`It occurred in the ${s.bold(`\`${e}\``)} invocation${m}`))):a.push(s.red(`Invalid ${s.bold(`\`${e}\``)} invocation${m}`)),t&&a.push(s.underline(rc(t))),i){a.push("");let f=[i.toString()];o&&(f.push(o),f.push(s.dim(")"))),a.push(f.join("")),o&&a.push("")}else a.push(""),o&&a.push(o),a.push("");return a.push(r),a.join(`
`)}function rc(e){let t=[e.fileName];return e.lineNumber&&t.push(String(e.lineNumber)),e.columnNumber&&t.push(String(e.columnNumber)),t.join(":")}function Rr(e){let t=e.showColors?Yl:Xl,r;return typeof $getTemplateParameters<"u"?r=$getTemplateParameters(e,t):r=ec(e),tc(r,t)}u();l();c();p();d();var Go=Ve(Fn());u();l();c();p();d();function Bo(e,t,r){let n=jo(e),i=nc(n),o=oc(i);o?Cr(o,t,r):t.addErrorMessage(()=>"Unknown error")}function jo(e){return e.errors.flatMap(t=>t.kind==="Union"?jo(t):[t])}function nc(e){let t=new Map,r=[];for(let n of e){if(n.kind!=="InvalidArgumentType"){r.push(n);continue}let i=`${n.selectionPath.join(".")}:${n.argumentPath.join(".")}`,o=t.get(i);o?t.set(i,{...n,argument:{...n.argument,typeNames:ic(o.argument.typeNames,n.argument.typeNames)}}):t.set(i,n)}return r.push(...t.values()),r}function ic(e,t){return[...new Set(e.concat(t))]}function oc(e){return _n(e,(t,r)=>{let n=Vo(t),i=Vo(r);return n!==i?n-i:qo(t)-qo(r)})}function Vo(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function qo(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}u();l();c();p();d();var se=class{constructor(t,r){this.name=t;this.value=r}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(t){let{colors:{green:r}}=t.context;t.addMarginSymbol(r(this.isRequired?"+":"?")),t.write(r(this.name)),this.isRequired||t.write(r("?")),t.write(r(": ")),typeof this.value=="string"?t.write(r(this.value)):t.write(this.value)}};u();l();c();p();d();u();l();c();p();d();Jo();u();l();c();p();d();var at=class{constructor(t=0,r){this.context=r;this.currentIndent=t}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(t){return typeof t=="string"?this.currentLine+=t:t.write(this),this}writeJoined(t,r,n=(i,o)=>o.write(i)){let i=r.length-1;for(let o=0;o<r.length;o++)n(r[o],this),o!==i&&this.write(t);return this}writeLine(t){return this.write(t).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let t=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,t?.(),this}withIndent(t){return this.indent(),t(this),this.unindent(),this}afterNextNewline(t){return this.afterNextNewLineCallback=t,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(t){return this.marginSymbol=t,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let t=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+t.slice(1):t}};Qo();u();l();c();p();d();u();l();c();p();d();var Ir=class{constructor(t){this.value=t}write(t){t.write(this.value)}markAsError(){this.value.markAsError()}};u();l();c();p();d();var kr=e=>e,Or={bold:kr,red:kr,green:kr,dim:kr,enabled:!1},Ho={bold:yr,red:rt,green:wo,dim:hr,enabled:!0},ut={write(e){e.writeLine(",")}};u();l();c();p();d();var be=class{constructor(t){this.contents=t}isUnderlined=!1;color=t=>t;underline(){return this.isUnderlined=!0,this}setColor(t){return this.color=t,this}write(t){let r=t.getCurrentLineLength();t.write(this.color(this.contents)),this.isUnderlined&&t.afterNextNewline(()=>{t.write(" ".repeat(r)).writeLine(this.color("~".repeat(this.contents.length)))})}};u();l();c();p();d();var Ne=class{hasError=!1;markAsError(){return this.hasError=!0,this}};var lt=class extends Ne{items=[];addItem(t){return this.items.push(new Ir(t)),this}getField(t){return this.items[t]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map(r=>r.value.getPrintWidth()))+2}write(t){if(this.items.length===0){this.writeEmpty(t);return}this.writeWithItems(t)}writeEmpty(t){let r=new be("[]");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithItems(t){let{colors:r}=t.context;t.writeLine("[").withIndent(()=>t.writeJoined(ut,this.items).newLine()).write("]"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(r.red("~".repeat(this.getPrintWidth())))})}asObject(){}};var ct=class e extends Ne{fields={};suggestions=[];addField(t){this.fields[t.name]=t}addSuggestion(t){this.suggestions.push(t)}getField(t){return this.fields[t]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let o=i;for(let s of n){let a;if(o.value instanceof e?a=o.value.getField(s):o.value instanceof lt&&(a=o.value.getField(Number(s))),!a)return;o=a}return o}getDeepFieldValue(t){return t.length===0?this:this.getDeepField(t)?.value}hasField(t){return!!this.getField(t)}removeAllFields(){this.fields={}}removeField(t){delete this.fields[t]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue(t){return this.getField(t)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof e))return;let i=r.getSubSelectionValue(n);if(!i)return;r=i}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let i of t){let o=n.value.getFieldValue(i);if(!o||!(o instanceof e))return;let s=o.getSelectionParent();if(!s)return;n=s}return n}getSelectionParent(){let t=this.getField("select")?.value.asObject();if(t)return{kind:"select",value:t};let r=this.getField("include")?.value.asObject();if(r)return{kind:"include",value:r}}getSubSelectionValue(t){return this.getSelectionParent()?.value.fields[t].value}getPrintWidth(){let t=Object.values(this.fields);return t.length==0?2:Math.max(...t.map(n=>n.getPrintWidth()))+2}write(t){let r=Object.values(this.fields);if(r.length===0&&this.suggestions.length===0){this.writeEmpty(t);return}this.writeWithContents(t,r)}asObject(){return this}writeEmpty(t){let r=new be("{}");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithContents(t,r){t.writeLine("{").withIndent(()=>{t.writeJoined(ut,[...r,...this.suggestions]).newLine()}),t.write("}"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(t.context.colors.red("~".repeat(this.getPrintWidth())))})}};u();l();c();p();d();var z=class extends Ne{constructor(r){super();this.text=r}getPrintWidth(){return this.text.length}write(r){let n=new be(this.text);this.hasError&&n.underline().setColor(r.context.colors.red),r.write(n)}asObject(){}};u();l();c();p();d();var $t=class{fields=[];addField(t,r){return this.fields.push({write(n){let{green:i,dim:o}=n.context.colors;n.write(i(o(`${t}: ${r}`))).addMarginSymbol(i(o("+")))}}),this}write(t){let{colors:{green:r}}=t.context;t.writeLine(r("{")).withIndent(()=>{t.writeJoined(ut,this.fields).newLine()}).write(r("}")).addMarginSymbol(r("+"))}};function Cr(e,t,r){switch(e.kind){case"MutuallyExclusiveFields":sc(e,t);break;case"IncludeOnScalar":ac(e,t);break;case"EmptySelection":uc(e,t,r);break;case"UnknownSelectionField":dc(e,t);break;case"InvalidSelectionValue":mc(e,t);break;case"UnknownArgument":fc(e,t);break;case"UnknownInputField":gc(e,t);break;case"RequiredArgumentMissing":yc(e,t);break;case"InvalidArgumentType":hc(e,t);break;case"InvalidArgumentValue":wc(e,t);break;case"ValueTooLarge":bc(e,t);break;case"SomeFieldsMissing":xc(e,t);break;case"TooManyFieldsGiven":Ec(e,t);break;case"Union":Bo(e,t,r);break;default:throw new Error("not implemented: "+e.kind)}}function sc(e,t){let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&(r.getField(e.firstField)?.markAsError(),r.getField(e.secondField)?.markAsError()),t.addErrorMessage(n=>`Please ${n.bold("either")} use ${n.green(`\`${e.firstField}\``)} or ${n.green(`\`${e.secondField}\``)}, but ${n.red("not both")} at the same time.`)}function ac(e,t){let[r,n]=pt(e.selectionPath),i=e.outputType,o=t.arguments.getDeepSelectionParent(r)?.value;if(o&&(o.getField(n)?.markAsError(),i))for(let s of i.fields)s.isRelation&&o.addSuggestion(new se(s.name,"true"));t.addErrorMessage(s=>{let a=`Invalid scalar field ${s.red(`\`${n}\``)} for ${s.bold("include")} statement`;return i?a+=` on model ${s.bold(i.name)}. ${Ut(s)}`:a+=".",a+=`
Note that ${s.bold("include")} statements only accept relation fields.`,a})}function uc(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getField("omit")?.value.asObject();if(i){lc(e,t,i);return}if(n.hasField("select")){cc(e,t);return}}if(r?.[Oe(e.outputType.name)]){pc(e,t);return}t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}function lc(e,t,r){r.removeAllFields();for(let n of e.outputType.fields)r.addSuggestion(new se(n.name,"false"));t.addErrorMessage(n=>`The ${n.red("omit")} statement includes every field of the model ${n.bold(e.outputType.name)}. At least one field must be included in the result`)}function cc(e,t){let r=e.outputType,n=t.arguments.getDeepSelectionParent(e.selectionPath)?.value,i=n?.isEmpty()??!1;n&&(n.removeAllFields(),Ko(n,r)),t.addErrorMessage(o=>i?`The ${o.red("`select`")} statement for type ${o.bold(r.name)} must not be empty. ${Ut(o)}`:`The ${o.red("`select`")} statement for type ${o.bold(r.name)} needs ${o.bold("at least one truthy value")}.`)}function pc(e,t){let r=new $t;for(let i of e.outputType.fields)i.isRelation||r.addField(i.name,"false");let n=new se("omit",r).makeRequired();if(e.selectionPath.length===0)t.arguments.addSuggestion(n);else{let[i,o]=pt(e.selectionPath),a=t.arguments.getDeepSelectionParent(i)?.value.asObject()?.getField(o);if(a){let m=a?.value.asObject()??new ct;m.addSuggestion(n),a.value=m}}t.addErrorMessage(i=>`The global ${i.red("omit")} configuration excludes every field of the model ${i.bold(e.outputType.name)}. At least one field must be included in the result`)}function dc(e,t){let r=Zo(e.selectionPath,t);if(r.parentKind!=="unknown"){r.field.markAsError();let n=r.parent;switch(r.parentKind){case"select":Ko(n,e.outputType);break;case"include":Pc(n,e.outputType);break;case"omit":Tc(n,e.outputType);break}}t.addErrorMessage(n=>{let i=[`Unknown field ${n.red(`\`${r.fieldName}\``)}`];return r.parentKind!=="unknown"&&i.push(`for ${n.bold(r.parentKind)} statement`),i.push(`on model ${n.bold(`\`${e.outputType.name}\``)}.`),i.push(Ut(n)),i.join(" ")})}function mc(e,t){let r=Zo(e.selectionPath,t);r.parentKind!=="unknown"&&r.field.value.markAsError(),t.addErrorMessage(n=>`Invalid value for selection field \`${n.red(r.fieldName)}\`: ${e.underlyingError}`)}function fc(e,t){let r=e.argumentPath[0],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&(n.getField(r)?.markAsError(),Ac(n,e.arguments)),t.addErrorMessage(i=>Wo(i,r,e.arguments.map(o=>o.name)))}function gc(e,t){let[r,n]=pt(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let o=i.getDeepFieldValue(r)?.asObject();o&&Yo(o,e.inputType)}t.addErrorMessage(o=>Wo(o,n,e.inputType.fields.map(s=>s.name)))}function Wo(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=vc(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push(Ut(e)),n.join(" ")}function yc(e,t){let r;t.addErrorMessage(m=>r?.value instanceof z&&r.value.text==="null"?`Argument \`${m.green(o)}\` must not be ${m.red("null")}.`:`Argument \`${m.green(o)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,o]=pt(e.argumentPath),s=new $t,a=n.getDeepFieldValue(i)?.asObject();if(a){if(r=a.getField(o),r&&a.removeField(o),e.inputTypes.length===1&&e.inputTypes[0].kind==="object"){for(let m of e.inputTypes[0].fields)s.addField(m.name,m.typeNames.join(" | "));a.addSuggestion(new se(o,s).makeRequired())}else{let m=e.inputTypes.map(zo).join(" | ");a.addSuggestion(new se(o,m).makeRequired())}if(e.dependentArgumentPath){n.getDeepField(e.dependentArgumentPath)?.markAsError();let[,m]=pt(e.dependentArgumentPath);t.addErrorMessage(f=>`Argument \`${f.green(o)}\` is required because argument \`${f.green(m)}\` was provided.`)}}}function zo(e){return e.kind==="list"?`${zo(e.elementType)}[]`:e.name}function hc(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=Nr("or",e.argument.typeNames.map(s=>i.green(s)));return`Argument \`${i.bold(r)}\`: Invalid value provided. Expected ${o}, provided ${i.red(e.inferredType)}.`})}function wc(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=[`Invalid value for argument \`${i.bold(r)}\``];if(e.underlyingError&&o.push(`: ${e.underlyingError}`),o.push("."),e.argument.typeNames.length>0){let s=Nr("or",e.argument.typeNames.map(a=>i.green(a)));o.push(` Expected ${s}.`)}return o.join("")})}function bc(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i;if(n){let s=n.getDeepField(e.argumentPath)?.value;s?.markAsError(),s instanceof z&&(i=s.text)}t.addErrorMessage(o=>{let s=["Unable to fit value"];return i&&s.push(o.red(i)),s.push(`into a 64-bit signed integer for field \`${o.bold(r)}\``),s.join(" ")})}function xc(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getDeepFieldValue(e.argumentPath)?.asObject();i&&Yo(i,e.inputType)}t.addErrorMessage(i=>{let o=[`Argument \`${i.bold(r)}\` of type ${i.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1?e.constraints.requiredFields?o.push(`${i.green("at least one of")} ${Nr("or",e.constraints.requiredFields.map(s=>`\`${i.bold(s)}\``))} arguments.`):o.push(`${i.green("at least one")} argument.`):o.push(`${i.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),o.push(Ut(i)),o.join(" ")})}function Ec(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i=[];if(n){let o=n.getDeepFieldValue(e.argumentPath)?.asObject();o&&(o.markAsError(),i=Object.keys(o.getFields()))}t.addErrorMessage(o=>{let s=[`Argument \`${o.bold(r)}\` of type ${o.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1&&e.constraints.maxFieldCount==1?s.push(`${o.green("exactly one")} argument,`):e.constraints.maxFieldCount==1?s.push(`${o.green("at most one")} argument,`):s.push(`${o.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),s.push(`but you provided ${Nr("and",i.map(a=>o.red(a)))}. Please choose`),e.constraints.maxFieldCount===1?s.push("one."):s.push(`${e.constraints.maxFieldCount}.`),s.join(" ")})}function Ko(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new se(r.name,"true"))}function Pc(e,t){for(let r of t.fields)r.isRelation&&!e.hasField(r.name)&&e.addSuggestion(new se(r.name,"true"))}function Tc(e,t){for(let r of t.fields)!e.hasField(r.name)&&!r.isRelation&&e.addSuggestion(new se(r.name,"true"))}function Ac(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new se(r.name,r.typeNames.join(" | ")))}function Zo(e,t){let[r,n]=pt(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let o=i.getFieldValue("select")?.asObject(),s=i.getFieldValue("include")?.asObject(),a=i.getFieldValue("omit")?.asObject(),m=o?.getField(n);return o&&m?{parentKind:"select",parent:o,field:m,fieldName:n}:(m=s?.getField(n),s&&m?{parentKind:"include",field:m,parent:s,fieldName:n}:(m=a?.getField(n),a&&m?{parentKind:"omit",field:m,parent:a,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function Yo(e,t){if(t.kind==="object")for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new se(r.name,r.typeNames.join(" | ")))}function pt(e){let t=[...e],r=t.pop();if(!r)throw new Error("unexpected empty path");return[t,r]}function Ut({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function Nr(e,t){if(t.length===1)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}var Sc=3;function vc(e,t){let r=1/0,n;for(let i of t){let o=(0,Go.default)(e,i);o>Sc||o<r&&(r=o,n=i)}return n}u();l();c();p();d();import{ObjectEnumValue as Rc}from"@prisma/client-runtime-utils";u();l();c();p();d();var Vt=class{modelName;name;typeName;isList;isEnum;constructor(t,r,n,i,o){this.modelName=t,this.name=r,this.typeName=n,this.isList=i,this.isEnum=o}_toGraphQLInputType(){let t=this.isList?"List":"",r=this.isEnum?"Enum":"";return`${t}${r}${this.typeName}FieldRefInput<${this.modelName}>`}};function dt(e){return e instanceof Vt}u();l();c();p();d();var Xo=": ",Dr=class{constructor(t,r){this.name=t;this.value=r}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+Xo.length}write(t){let r=new be(this.name);this.hasError&&r.underline().setColor(t.context.colors.red),t.write(r).write(Xo).write(this.value)}};var Un=class{arguments;errorMessages=[];constructor(t){this.arguments=t}write(t){t.write(this.arguments)}addErrorMessage(t){this.errorMessages.push(t)}renderAllMessages(t){return this.errorMessages.map(r=>r(t)).join(`
`)}};function mt(e){return new Un(es(e))}function es(e){let t=new ct;for(let[r,n]of Object.entries(e)){let i=new Dr(r,ts(n));t.addField(i)}return t}function ts(e){if(typeof e=="string")return new z(JSON.stringify(e));if(typeof e=="number"||typeof e=="boolean")return new z(String(e));if(typeof e=="bigint")return new z(`${e}n`);if(e===null)return new z("null");if(e===void 0)return new z("undefined");if(st(e))return new z(`new Prisma.Decimal("${e.toFixed()}")`);if(e instanceof Uint8Array)return g.isBuffer(e)?new z(`Buffer.alloc(${e.byteLength})`):new z(`new Uint8Array(${e.byteLength})`);if(e instanceof Date){let t=Sr(e)?e.toISOString():"Invalid Date";return new z(`new Date("${t}")`)}return e instanceof Rc?new z(`Prisma.${e._getName()}`):dt(e)?new z(`prisma.${Oe(e.modelName)}.$fields.${e.name}`):Array.isArray(e)?Cc(e):typeof e=="object"?es(e):new z(Object.prototype.toString.call(e))}function Cc(e){let t=new lt;for(let r of e)t.addItem(ts(r));return t}function Mr(e,t){let r=t==="pretty"?Ho:Or,n=e.renderAllMessages(r),i=new at(0,{colors:r}).write(e).toString();return{message:n,args:i}}function Lr({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:o,globalOmit:s}){let a=mt(e);for(let A of t)Cr(A,a,s);let{message:m,args:f}=Mr(a,r),P=Rr({message:m,callsite:n,originalMethod:i,showColors:r==="pretty",callArguments:f});throw new Ic(P,{clientVersion:o})}u();l();c();p();d();u();l();c();p();d();function xe(e){return e.replace(/^./,t=>t.toLowerCase())}u();l();c();p();d();function ns(e,t,r){let n=xe(r);return!t.result||!(t.result.$allModels||t.result[n])?e:kc({...e,...rs(t.name,e,t.result.$allModels),...rs(t.name,e,t.result[n])})}function kc(e){let t=new we,r=(n,i)=>t.getOrCreate(n,()=>i.has(n)?[n]:(i.add(n),e[n]?e[n].needs.flatMap(o=>r(o,i)):[n]));return Ar(e,n=>({...n,needs:r(n.name,new Set)}))}function rs(e,t,r){return r?Ar(r,({needs:n,compute:i},o)=>({name:o,needs:n?Object.keys(n).filter(s=>n[s]):[],compute:Oc(t,o,i)})):{}}function Oc(e,t,r){let n=e?.[t]?.compute;return n?i=>r({...i,[t]:n(i)}):r}function is(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let i of n.needs)r[i]=!0;return r}function os(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let i of n.needs)delete r[i];return r}var _r=class{constructor(t,r){this.extension=t;this.previous=r}computedFieldsCache=new we;modelExtensionsCache=new we;queryCallbacksCache=new we;clientExtensions=It(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=It(()=>{let t=this.previous?.getAllBatchQueryCallbacks()??[],r=this.extension.query?.$__internalBatch;return r?t.concat(r):t});getAllComputedFields(t){return this.computedFieldsCache.getOrCreate(t,()=>ns(this.previous?.getAllComputedFields(t),this.extension,t))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(t){return this.modelExtensionsCache.getOrCreate(t,()=>{let r=xe(t);return!this.extension.model||!(this.extension.model[r]||this.extension.model.$allModels)?this.previous?.getAllModelExtensions(t):{...this.previous?.getAllModelExtensions(t),...this.extension.model.$allModels,...this.extension.model[r]}})}getAllQueryCallbacks(t,r){return this.queryCallbacksCache.getOrCreate(`${t}:${r}`,()=>{let n=this.previous?.getAllQueryCallbacks(t,r)??[],i=[],o=this.extension.query;return!o||!(o[t]||o.$allModels||o[r]||o.$allOperations)?n:(o[t]!==void 0&&(o[t][r]!==void 0&&i.push(o[t][r]),o[t].$allOperations!==void 0&&i.push(o[t].$allOperations)),t!=="$none"&&o.$allModels!==void 0&&(o.$allModels[r]!==void 0&&i.push(o.$allModels[r]),o.$allModels.$allOperations!==void 0&&i.push(o.$allModels.$allOperations)),o[r]!==void 0&&i.push(o[r]),o.$allOperations!==void 0&&i.push(o.$allOperations),n.concat(i))})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},ft=class e{constructor(t){this.head=t}static empty(){return new e}static single(t){return new e(new _r(t))}isEmpty(){return this.head===void 0}append(t){return new e(new _r(t,this.head))}getAllComputedFields(t){return this.head?.getAllComputedFields(t)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(t){return this.head?.getAllModelExtensions(t)}getAllQueryCallbacks(t,r){return this.head?.getAllQueryCallbacks(t,r)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}};u();l();c();p();d();var Fr=class{constructor(t){this.name=t}};function ss(e){return e instanceof Fr}function Nc(e){return new Fr(e)}u();l();c();p();d();u();l();c();p();d();var as=Symbol(),qt=class{constructor(t){if(t!==as)throw new Error("Skip instance can not be constructed directly")}ifUndefined(t){return t===void 0?Vn:t}},Vn=new qt(as);function ue(e){return e instanceof qt}var Fc={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},us="explicitly `undefined` values are not allowed";function Bn({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=ft.empty(),callsite:o,clientMethod:s,errorFormat:a,clientVersion:m,previewFeatures:f,globalOmit:P,wrapRawValues:A}){let v=new qn({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:o,extensions:i,selectionPath:[],argumentPath:[],originalMethod:s,errorFormat:a,clientVersion:m,previewFeatures:f,globalOmit:P,wrapRawValues:A});return{modelName:e,action:Fc[t],query:Bt(r,v)}}function Bt({select:e,include:t,...r}={},n){let i=r.omit;return delete r.omit,{arguments:cs(r,n),selection:$c(e,t,i,n)}}function $c(e,t,r,n){return e?(t?n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:n.getSelectionPath()}):r&&n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:n.getSelectionPath()}),Bc(e,n)):Uc(n,t,r)}function Uc(e,t,r){let n={};return e.modelOrType&&!e.isRawAction()&&(n.$composites=!0,n.$scalars=!0),t&&Vc(n,t,e),qc(n,r,e),n}function Vc(e,t,r){for(let[n,i]of Object.entries(t)){if(ue(i))continue;let o=r.nestSelection(n);if(jn(i,o),i===!1||i===void 0){e[n]=!1;continue}let s=r.findField(n);if(s&&s.kind!=="object"&&r.throwValidationError({kind:"IncludeOnScalar",selectionPath:r.getSelectionPath().concat(n),outputType:r.getOutputTypeDescription()}),s){e[n]=Bt(i===!0?{}:i,o);continue}if(i===!0){e[n]=!0;continue}e[n]=Bt(i,o)}}function qc(e,t,r){let n=r.getComputedFields(),i={...r.getGlobalOmit(),...t},o=os(i,n);for(let[s,a]of Object.entries(o)){if(ue(a))continue;jn(a,r.nestSelection(s));let m=r.findField(s);n?.[s]&&!m||(e[s]=!a)}}function Bc(e,t){let r={},n=t.getComputedFields(),i=is(e,n);for(let[o,s]of Object.entries(i)){if(ue(s))continue;let a=t.nestSelection(o);jn(s,a);let m=t.findField(o);if(!(n?.[o]&&!m)){if(s===!1||s===void 0||ue(s)){r[o]=!1;continue}if(s===!0){m?.kind==="object"?r[o]=Bt({},a):r[o]=!0;continue}r[o]=Bt(s,a)}}return r}function ls(e,t){if(e===null)return null;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="bigint")return{$type:"BigInt",value:String(e)};if(ot(e)){if(Sr(e))return{$type:"DateTime",value:e.toISOString()};t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(ss(e))return{$type:"Param",value:e.name};if(dt(e))return{$type:"FieldRef",value:{_ref:e.name,_container:e.modelName}};if(Array.isArray(e))return jc(e,t);if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{$type:"Bytes",value:g.from(r,n,i).toString("base64")}}if(Qc(e))return e.values;if(st(e))return{$type:"Decimal",value:e.toFixed()};if(e instanceof _c){if(!Mc(e)&&!Lc(e)&&!Dc(e))throw new Error("Invalid ObjectEnumValue");return{$type:"Enum",value:e._getName()}}if(Jc(e))return e.toJSON();if(typeof e=="object")return cs(e,t);t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(e)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function cs(e,t){if(t.shouldWrapRawValues()&&e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],o=t.nestArgument(n);ue(i)||(i!==void 0?r[n]=ls(i,o):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:o.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:us}))}return r}function jc(e,t){let r=[];for(let n=0;n<e.length;n++){let i=t.nestArgument(String(n)),o=e[n];if(o===void 0||ue(o)){let s=o===void 0?"undefined":"Prisma.skip";t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:`${t.getArgumentName()}[${n}]`,typeNames:[]},underlyingError:`Can not use \`${s}\` value within array. Use \`null\` or filter out \`${s}\` values`})}r.push(ls(o,i))}return r}function Qc(e){return typeof e=="object"&&e!==null&&e.__prismaRawParameters__===!0}function Jc(e){return typeof e=="object"&&e!==null&&typeof e.toJSON=="function"}function jn(e,t){e===void 0&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:us})}var qn=class e{constructor(t){this.params=t;this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(t){Lr({errors:[t],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(t=>({name:t.name,typeName:"boolean",isRelation:t.kind==="object"}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(t){return this.params.previewFeatures.includes(t)}shouldWrapRawValues(){return this.params.wrapRawValues??!0}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(t){return this.modelOrType?.fields.find(r=>r.name===t)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new e({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[Oe(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:ve(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};u();l();c();p();d();function Hc(e,t){let r=It(()=>Gc(t));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function Gc(e){throw new Error("Prisma.dmmf is not available when running in edge runtimes.")}function Qn(e){return Object.entries(e).map(([t,r])=>({name:t,...r}))}u();l();c();p();d();var Jn=new WeakMap,$r="$$PrismaTypedSql",jt=class{constructor(t,r){Jn.set(this,{sql:t,values:r}),Object.defineProperty(this,$r,{value:$r})}get sql(){return Jn.get(this).sql}get values(){return Jn.get(this).values}};function Wc(e){return(...t)=>new jt(e,t)}function Ur(e){return e!=null&&e[$r]===$r}u();l();c();p();d();import{Sql as Gm}from"@prisma/client-runtime-utils";u();l();c();p();d();ps();u();l();c();p();d();u();l();c();p();d();function Qt(e){return{getKeys(){return Object.keys(e)},getPropertyValue(t){return e[t]}}}u();l();c();p();d();function te(e,t){return{getKeys(){return[e]},getPropertyValue(){return t()}}}u();l();c();p();d();function Je(e){let t=new we;return{getKeys(){return e.getKeys()},getPropertyValue(r){return t.getOrCreate(r,()=>e.getPropertyValue(r))},getPropertyDescriptor(r){return e.getPropertyDescriptor?.(r)}}}u();l();c();p();d();u();l();c();p();d();var qr={enumerable:!0,configurable:!0,writable:!0};function Br(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>qr,has:(r,n)=>t.has(n),set:(r,n,i)=>t.add(n)&&Reflect.set(r,n,i),ownKeys:()=>[...t]}}var ds=Symbol.for("nodejs.util.inspect.custom");function me(e,t){let r=zc(t),n=new Set,i=new Proxy(e,{get(o,s){if(n.has(s))return o[s];let a=r.get(s);return a?a.getPropertyValue(s):o[s]},has(o,s){if(n.has(s))return!0;let a=r.get(s);return a?a.has?.(s)??!0:Reflect.has(o,s)},ownKeys(o){let s=ms(Reflect.ownKeys(o),r),a=ms(Array.from(r.keys()),r);return[...new Set([...s,...a,...n])]},set(o,s,a){return r.get(s)?.getPropertyDescriptor?.(s)?.writable===!1?!1:(n.add(s),Reflect.set(o,s,a))},getOwnPropertyDescriptor(o,s){let a=Reflect.getOwnPropertyDescriptor(o,s);if(a&&!a.configurable)return a;let m=r.get(s);return m?m.getPropertyDescriptor?{...qr,...m?.getPropertyDescriptor(s)}:qr:a},defineProperty(o,s,a){return n.add(s),Reflect.defineProperty(o,s,a)},getPrototypeOf:()=>Object.prototype});return i[ds]=function(){let o={...this};return delete o[ds],o},i}function zc(e){let t=new Map;for(let r of e){let n=r.getKeys();for(let i of n)t.set(i,r)}return t}function ms(e,t){return e.filter(r=>t.get(r)?.has?.(r)??!0)}u();l();c();p();d();function gt(e){return{getKeys(){return e},has(){return!1},getPropertyValue(){}}}u();l();c();p();d();function fs(e){if(e===void 0)return"";let t=mt(e);return new at(0,{colors:Or}).write(t).toString()}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();var Hn=class{getLocation(){return null}};function De(e){return typeof $EnabledCallSite=="function"&&e!=="minimal"?new $EnabledCallSite:new Hn}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();var gs={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function yt(e={}){let t=Zc(e);return Object.entries(t).reduce((n,[i,o])=>(gs[i]!==void 0?n.select[i]={select:o}:n[i]=o,n),{select:{}})}function Zc(e={}){return typeof e._count=="boolean"?{...e,_count:{_all:e._count}}:e}function jr(e={}){return t=>(typeof e._count=="boolean"&&(t._count=t._count._all),t)}function ys(e,t){let r=jr(e);return t({action:"aggregate",unpacker:r,argsMapper:yt})(e)}u();l();c();p();d();function Yc(e={}){let{select:t,...r}=e;return typeof t=="object"?yt({...r,_count:t}):yt({...r,_count:{_all:!0}})}function Xc(e={}){return typeof e.select=="object"?t=>jr(e)(t)._count:t=>jr(e)(t)._count._all}function hs(e,t){return t({action:"count",unpacker:Xc(e),argsMapper:Yc})(e)}u();l();c();p();d();function ep(e={}){let t=yt(e);if(Array.isArray(t.by))for(let r of t.by)typeof r=="string"&&(t.select[r]=!0);else typeof t.by=="string"&&(t.select[t.by]=!0);return t}function tp(e={}){return t=>(typeof e?._count=="boolean"&&t.forEach(r=>{r._count=r._count._all}),t)}function ws(e,t){return t({action:"groupBy",unpacker:tp(e),argsMapper:ep})(e)}function bs(e,t,r){if(t==="aggregate")return n=>ys(n,r);if(t==="count")return n=>hs(n,r);if(t==="groupBy")return n=>ws(n,r)}u();l();c();p();d();function xs(e,t){let r=t.fields.filter(i=>!i.relationName),n=mo(r,"name");return new Proxy({},{get(i,o){if(o in i||typeof o=="symbol")return i[o];let s=n[o];if(s)return new Vt(e,o,s.type,s.isList,s.kind==="enum")},...Br(Object.keys(n))})}u();l();c();p();d();u();l();c();p();d();var Es=e=>Array.isArray(e)?e:e.split("."),Gn=(e,t)=>Es(t).reduce((r,n)=>r&&r[n],e),Ps=(e,t,r)=>Es(t).reduceRight((n,i,o,s)=>Object.assign({},Gn(e,s.slice(0,o)),{[i]:n}),r);function rp(e,t){return e===void 0||t===void 0?[]:[...t,"select",e]}function np(e,t,r){return t===void 0?e??{}:Ps(t,r,e||!0)}function Wn(e,t,r,n,i,o){let a=e._runtimeDataModel.models[t].fields.reduce((m,f)=>({...m,[f.name]:f}),{});return m=>{let f=De(e._errorFormat),P=rp(n,i),A=np(m,o,P),v=r({dataPath:P,callsite:f})(A),S=ip(e,t);return new Proxy(v,{get(N,C){if(!S.includes(C))return N[C];let X=[a[C].type,r,C],j=[P,A];return Wn(e,...X,...j)},...Br([...S,...Object.getOwnPropertyNames(v)])})}}function ip(e,t){return e._runtimeDataModel.models[t].fields.filter(r=>r.kind==="object").map(r=>r.name)}var op=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],sp=["aggregate","count","groupBy"];function zn(e,t){let r=e._extensions.getAllModelExtensions(t)??{},n=[ap(e,t),lp(e,t),Qt(r),te("name",()=>t),te("$name",()=>t),te("$parent",()=>e._appliedParent)];return me({},n)}function ap(e,t){let r=xe(t),n=Object.keys(Ft).concat("count");return{getKeys(){return n},getPropertyValue(i){let o=i,s=a=>m=>{let f=De(e._errorFormat);return e._createPrismaPromise(P=>{let A={args:m,dataPath:[],action:o,model:t,clientMethod:`${r}.${i}`,jsModelName:r,transaction:P,callsite:f};return e._request({...A,...a})},{action:o,args:m,model:t})};return op.includes(o)?Wn(e,t,s):up(i)?bs(e,i,s):s({})}}}function up(e){return sp.includes(e)}function lp(e,t){return Je(te("fields",()=>{let r=e._runtimeDataModel.models[t];return xs(t,r)}))}u();l();c();p();d();function Ts(e){return e.replace(/^./,t=>t.toUpperCase())}var Kn=Symbol();function Jt(e){let t=[cp(e),pp(e),te(Kn,()=>e),te("$parent",()=>e._appliedParent)],r=e._extensions.getAllClientExtensions();return r&&t.push(Qt(r)),me(e,t)}function cp(e){let t=Object.getPrototypeOf(e._originalClient),r=[...new Set(Object.getOwnPropertyNames(t))];return{getKeys(){return r},getPropertyValue(n){return e[n]}}}function pp(e){let t=Object.keys(e._runtimeDataModel.models),r=t.map(xe),n=[...new Set(t.concat(r))];return Je({getKeys(){return n},getPropertyValue(i){let o=Ts(i);if(e._runtimeDataModel.models[o]!==void 0)return zn(e,o);if(e._runtimeDataModel.models[i]!==void 0)return zn(e,i)},getPropertyDescriptor(i){if(!r.includes(i))return{enumerable:!1}}})}function As(e){return e[Kn]?e[Kn]:e}function Ss(e){if(typeof e=="function")return e(this);let t=Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}});return Jt(t)}u();l();c();p();d();u();l();c();p();d();function vs({result:e,modelName:t,select:r,omit:n,extensions:i}){let o=i.getAllComputedFields(t);if(!o)return e;let s=[],a=[];for(let m of Object.values(o)){if(n){if(n[m.name])continue;let f=m.needs.filter(P=>n[P]);f.length>0&&a.push(gt(f))}else if(r){if(!r[m.name])continue;let f=m.needs.filter(P=>!r[P]);f.length>0&&a.push(gt(f))}dp(e,m.needs)&&s.push(mp(m,me(e,s)))}return s.length>0||a.length>0?me(e,[...s,...a]):e}function dp(e,t){return t.every(r=>Ln(e,r))}function mp(e,t){return Je(te(e.name,()=>e.compute(t)))}u();l();c();p();d();function Qr({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let s=0;s<t.length;s++)t[s]=Qr({result:t[s],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let o=e(t,i,r)??t;return r.include&&Rs({includeOrSelect:r.include,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&Rs({includeOrSelect:r.select,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),o}function Rs({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[o,s]of Object.entries(e)){if(!s||t[o]==null||ue(s))continue;let m=n.models[r].fields.find(P=>P.name===o);if(!m||m.kind!=="object"||!m.relationName)continue;let f=typeof s=="object"?s:{};t[o]=Qr({visitor:i,result:t[o],args:f,modelName:m.type,runtimeDataModel:n})}}function Cs({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:o}){return n.isEmpty()||e==null||typeof e!="object"||!i.models[t]?e:Qr({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(a,m,f)=>{let P=xe(m);return vs({result:a,modelName:P,select:f.select,omit:f.select?void 0:{...o?.[P],...f.omit},extensions:n})}})}u();l();c();p();d();u();l();c();p();d();import{Decimal as gp,ObjectEnumValue as yp,Sql as ks}from"@prisma/client-runtime-utils";u();l();c();p();d();var fp=["$connect","$disconnect","$on","$transaction","$extends"],Is=fp;function Os(e){if(e instanceof ks)return hp(e);if(Ur(e))return wp(e);if(Array.isArray(e)){let r=[e[0]];for(let n=1;n<e.length;n++)r[n]=Ht(e[n]);return r}let t={};for(let r in e)t[r]=Ht(e[r]);return t}function hp(e){return new ks(e.strings,e.values)}function wp(e){return new jt(e.sql,e.values)}function Ht(e){if(typeof e!="object"||e==null||e instanceof yp||dt(e)||ue(e))return e;if(st(e))return new gp(e.toFixed());if(ot(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=Ht(e[t]);return r}if(typeof e=="object"){let t={};for(let r in e)r==="__proto__"?Object.defineProperty(t,r,{value:Ht(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=Ht(e[r]);return t}ve(e,"Unknown value")}function Ds(e,t,r,n=0){return e._createPrismaPromise(i=>{let o=t.customDataProxyFetch;return"transaction"in t&&i!==void 0&&(t.transaction?.kind==="batch"&&t.transaction.lock.then(),t.transaction=i),n===r.length?e._executeRequest(t):r[n]({model:t.model,operation:t.model?t.action:t.clientMethod,args:Os(t.args??{}),__internalParams:t,query:(s,a=t)=>{let m=a.customDataProxyFetch;return a.customDataProxyFetch=Fs(o,m),a.args=s,Ds(e,a,r,n+1)}})})}function Ms(e,t){let{jsModelName:r,action:n,clientMethod:i}=t,o=r?n:i;if(e._extensions.isEmpty())return e._executeRequest(t);let s=e._extensions.getAllQueryCallbacks(r??"$none",o);return Ds(e,t,s)}function Ls(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?_s(r,n,0,e):e(r)}}function _s(e,t,r,n){if(r===t.length)return n(e);let i=e.customDataProxyFetch,o=e.requests[0].transaction;return t[r]({args:{queries:e.requests.map(s=>({model:s.modelName,operation:s.action,args:s.args})),transaction:o?{isolationLevel:o.kind==="batch"?o.isolationLevel:void 0}:void 0},__internalParams:e,query(s,a=e){let m=a.customDataProxyFetch;return a.customDataProxyFetch=Fs(i,m),_s(a,t,r+1,n)}})}var Ns=e=>e;function Fs(e=Ns,t=Ns){return r=>e(t(r))}u();l();c();p();d();function Us({dataPath:e,modelName:t,args:r,runtimeDataModel:n}){let i={modelName:t,args:r??{}},o=bp(e);if(!o||o.length===0)return i;let s=t,a=r??{};for(let m of o){let f=n.models[s];if(!f)return i;let P=f.fields.find(A=>A.name===m);if(!P)throw new Error(`Could not resolve relation field "${m}" on model "${s}" from dataPath "${e.join(".")}"`);if(P.kind!=="object"||!P.relationName)return i;s=P.type,a=xp(a,m)}return{modelName:s,args:a}}function bp(e){let t=[];for(let r=0;r<e.length;r+=2){let n=e[r],i=e[r+1];if(n!=="select"&&n!=="include"||i===void 0)return;t.push(i)}return t}function xp(e,t){let r=e.select?.[t];if($s(r))return r;let n=e.include?.[t];return $s(n)?n:{}}function $s(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();import{Decimal as Ep}from"@prisma/client-runtime-utils";u();l();c();p();d();import{Decimal as Jr}from"@prisma/client-runtime-utils";function M(e,t){throw new Error(t)}function Zn(e,t){return e===t||e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>Zn(e[r],t[r]))}function ht(e,t){let r=Object.keys(e),n=Object.keys(t);return(r.length<n.length?r:n).every(o=>{if(typeof e[o]==typeof t[o]&&typeof e[o]!="object")return e[o]===t[o];if(Jr.isDecimal(e[o])||Jr.isDecimal(t[o])){let s=Vs(e[o]),a=Vs(t[o]);return s&&a&&s.equals(a)}else if(e[o]instanceof Uint8Array||t[o]instanceof Uint8Array){let s=qs(e[o]),a=qs(t[o]);return s&&a&&s.equals(a)}else{if(e[o]instanceof Date||t[o]instanceof Date)return Bs(e[o])?.getTime()===Bs(t[o])?.getTime();if(typeof e[o]=="bigint"||typeof t[o]=="bigint")return js(e[o])===js(t[o]);if(typeof e[o]=="number"||typeof t[o]=="number")return Qs(e[o])===Qs(t[o])}return Zn(e[o],t[o])})}function Vs(e){return Jr.isDecimal(e)?e:typeof e=="number"||typeof e=="string"?new Jr(e):void 0}function qs(e){return g.isBuffer(e)?e:e instanceof Uint8Array?g.from(e.buffer,e.byteOffset,e.byteLength):typeof e=="string"?g.from(e,"base64"):void 0}function Bs(e){return e instanceof Date?e:typeof e=="string"||typeof e=="number"?new Date(e):void 0}function js(e){return typeof e=="bigint"?e:typeof e=="number"||typeof e=="string"?BigInt(e):void 0}function Qs(e){return typeof e=="number"?e:typeof e=="string"?Number(e):void 0}function Me(e){return JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString():ArrayBuffer.isView(r)?g.from(r.buffer,r.byteOffset,r.byteLength).toString("base64"):r)}function Pp(e){return e!==null&&typeof e=="object"&&typeof e.$type=="string"}function Tp(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function Ee(e){return e===null?e:Array.isArray(e)?e.map(Ee):typeof e=="object"?Pp(e)?Ap(e):e.constructor!==null&&e.constructor.name!=="Object"?e:Tp(e,Ee):e}function Ap({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:r,byteOffset:n,byteLength:i}=g.from(t,"base64");return new Uint8Array(r,n,i)}case"DateTime":return new Date(t);case"Decimal":return new Ep(t);case"Json":return JSON.parse(t);case"Raw":return t;case"FieldRef":throw new Error("FieldRef tagged values cannot be deserialized to JavaScript values");case"Enum":return t;default:M(t,"Unknown tagged value")}}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();function Hr(e){return e.name==="DriverAdapterError"&&typeof e.cause=="object"}u();l();c();p();d();var k={Int32:0,Int64:1,Float:2,Double:3,Numeric:4,Boolean:5,Character:6,Text:7,Date:8,Time:9,DateTime:10,Json:11,Enum:12,Bytes:13,Set:14,Uuid:15,Int32Array:64,Int64Array:65,FloatArray:66,DoubleArray:67,NumericArray:68,BooleanArray:69,CharacterArray:70,TextArray:71,DateArray:72,TimeArray:73,DateTimeArray:74,JsonArray:75,EnumArray:76,BytesArray:77,UuidArray:78,UnknownNumber:128};var K=class extends Error{name="UserFacingError";code;meta;constructor(t,r,n){super(t),this.code=r,this.meta=n??{}}toQueryResponseErrorObject(){return{error:this.message,user_facing_error:{is_panic:!1,message:this.message,meta:this.meta,error_code:this.code}}}};function wt(e){if(!Hr(e))throw e;let t=Sp(e),r=Js(e);throw!t||!r?e:new K(r,t,{driverAdapterError:e})}function Xn(e){throw Hr(e)?new K(`Raw query failed. Code: \`${e.cause.originalCode??"N/A"}\`. Message: \`${e.cause.originalMessage??Js(e)}\``,"P2010",{driverAdapterError:e}):e}function Sp(e){switch(e.cause.kind){case"AuthenticationFailed":return"P1000";case"DatabaseNotReachable":return"P1001";case"DatabaseDoesNotExist":return"P1003";case"SocketTimeout":return"P1008";case"DatabaseAlreadyExists":return"P1009";case"DatabaseAccessDenied":return"P1010";case"TlsConnectionError":return"P1011";case"ConnectionClosed":return"P1017";case"TransactionAlreadyClosed":return"P1018";case"LengthMismatch":return"P2000";case"UniqueConstraintViolation":return"P2002";case"ForeignKeyConstraintViolation":return"P2003";case"InvalidInputValue":return"P2007";case"UnsupportedNativeDataType":return"P2010";case"NullConstraintViolation":return"P2011";case"ValueOutOfRange":return"P2020";case"TableDoesNotExist":return"P2021";case"ColumnNotFound":return"P2022";case"InvalidIsolationLevel":case"InconsistentColumnData":return"P2023";case"MissingFullTextSearchIndex":return"P2030";case"TransactionWriteConflict":return"P2034";case"GenericJs":return"P2036";case"TooManyConnections":return"P2037";case"postgres":case"sqlite":case"mysql":case"mssql":return;default:M(e.cause,`Unknown error: ${e.cause}`)}}function Js(e){switch(e.cause.kind){case"AuthenticationFailed":return`Authentication failed against the database server, the provided database credentials for \`${e.cause.user??"(not available)"}\` are not valid`;case"DatabaseNotReachable":{let t=e.cause.host&&e.cause.port?`${e.cause.host}:${e.cause.port}`:e.cause.host;return`Can't reach database server${t?` at ${t}`:""}`}case"DatabaseDoesNotExist":return`Database \`${e.cause.db??"(not available)"}\` does not exist on the database server`;case"SocketTimeout":return"Operation has timed out";case"DatabaseAlreadyExists":return`Database \`${e.cause.db??"(not available)"}\` already exists on the database server`;case"DatabaseAccessDenied":return`User was denied access on the database \`${e.cause.db??"(not available)"}\``;case"TlsConnectionError":return`Error opening a TLS connection: ${e.cause.reason}`;case"ConnectionClosed":return"Server has closed the connection.";case"TransactionAlreadyClosed":return e.cause.cause;case"LengthMismatch":return`The provided value for the column is too long for the column's type. Column: ${e.cause.column??"(not available)"}`;case"UniqueConstraintViolation":return`Unique constraint failed on the ${Yn(e.cause.constraint)}`;case"ForeignKeyConstraintViolation":return`Foreign key constraint violated on the ${Yn(e.cause.constraint)}`;case"UnsupportedNativeDataType":return`Failed to deserialize column of type '${e.cause.type}'. If you're using $queryRaw and this column is explicitly marked as \`Unsupported\` in your Prisma schema, try casting this column to any supported Prisma type such as \`String\`.`;case"NullConstraintViolation":return`Null constraint violation on the ${Yn(e.cause.constraint)}`;case"ValueOutOfRange":return`Value out of range for the type: ${e.cause.cause}`;case"TableDoesNotExist":return`The table \`${e.cause.table??"(not available)"}\` does not exist in the current database.`;case"ColumnNotFound":return`The column \`${e.cause.column??"(not available)"}\` does not exist in the current database.`;case"InvalidIsolationLevel":return`Error in connector: Conversion error: ${e.cause.level}`;case"InconsistentColumnData":return`Inconsistent column data: ${e.cause.cause}`;case"MissingFullTextSearchIndex":return"Cannot find a fulltext index to use for the native search, try adding a @@fulltext([Fields...]) to your schema";case"TransactionWriteConflict":return"Transaction failed due to a write conflict or a deadlock. Please retry your transaction";case"GenericJs":return`Error in external connector (id ${e.cause.id})`;case"TooManyConnections":return`Too many database connections opened: ${e.cause.cause}`;case"InvalidInputValue":return`Invalid input value: ${e.cause.message}`;case"sqlite":case"postgres":case"mysql":case"mssql":return;default:M(e.cause,`Unknown error: ${e.cause}`)}}function Yn(e){return e&&"fields"in e?`fields: (${e.fields.map(t=>`\`${t}\``).join(", ")})`:e&&"index"in e?`constraint: \`${e.index}\``:e&&"foreignKey"in e?"foreign key":"(not available)"}function vp(e){if(typeof e!="object"||e===null)return!1;let t=e;return"$type"in t&&t.$type==="Param"||"prisma__type"in t&&t.prisma__type==="param"}function Rp(e){return"prisma__type"in e?e.prisma__value?.name:e.value.name}function Cp(e,t){let r={};for(let[n,i]of Object.entries(e))if(r[n]=i,vp(i)){let o=Rp(i);o&&o in t&&(r[n]=t[o])}return r}function Hs(e,t,r={}){let n=e.map(o=>t.keys.reduce((s,a)=>(s[a]=Ee(o[a]),s),{})),i=new Set(t.nestedSelection);return t.arguments.map(o=>{let s=Cp(o,r),a=n.findIndex(m=>ht(m,s));if(a===-1)return t.expectNonEmpty?new K("An operation failed because it depends on one or more records that were required but not found","P2025"):null;{let m=Object.entries(e[a]).filter(([f])=>i.has(f));return Object.fromEntries(m)}})}u();l();c();p();d();import{Decimal as Ip}from"@prisma/client-runtime-utils";var U=class extends K{name="DataMapperError";constructor(t,r){super(t,"P2023",r)}},Gs=new WeakMap;function kp(e){let t=Gs.get(e);return t||(t=Object.entries(e),Gs.set(e,t)),t}function zs(e,t,r){switch(t.type){case"affectedRows":if(typeof e!="number")throw new U(`Expected an affected rows count, got: ${typeof e} (${e})`);return{count:e};case"object":return ti(e,t.fields,r,t.skipNulls);case"field":return ei(e,"<result>",t.fieldType,r);default:M(t,`Invalid data mapping type: '${t.type}'`)}}function ti(e,t,r,n){if(e===null)return null;if(Array.isArray(e)){let i=e;return n&&(i=i.filter(o=>o!==null)),i.map(o=>Ws(o,t,r))}if(typeof e=="object")return Ws(e,t,r);if(typeof e=="string"){let i;try{i=JSON.parse(e)}catch(o){throw new U("Expected an array or object, got a string that is not valid JSON",{cause:o})}return ti(i,t,r,n)}throw new U(`Expected an array or an object, got: ${typeof e}`)}function Ws(e,t,r){if(typeof e!="object")throw new U(`Expected an object, but got '${typeof e}'`);let n={};for(let[i,o]of kp(t))switch(o.type){case"affectedRows":throw new U(`Unexpected 'AffectedRows' node in data mapping for field '${i}'`);case"object":{let{serializedName:s,fields:a,skipNulls:m}=o;if(s!==null&&!Object.hasOwn(e,s))throw new U(`Missing data field (Object): '${i}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`);let f=s!==null?e[s]:e;n[i]=ti(f,a,r,m);break}case"field":{let s=o.dbName;if(Object.hasOwn(e,s))n[i]=Op(e[s],s,o.fieldType,r);else throw new U(`Missing data field (Value): '${s}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`)}break;default:M(o,`DataMapper: Invalid data mapping node type: '${o.type}'`)}return n}function Op(e,t,r,n){return e===null?r.arity==="list"?[]:null:r.arity==="list"?e.map((o,s)=>ei(o,`${t}[${s}]`,r,n)):ei(e,t,r,n)}function ei(e,t,r,n){switch(r.type){case"unsupported":return e;case"string":{if(typeof e!="string")throw new U(`Expected a string in column '${t}', got ${typeof e}: ${e}`);return e}case"int":switch(typeof e){case"number":return Math.trunc(e);case"string":{let i=Math.trunc(Number(e));if(Number.isNaN(i)||!Number.isFinite(i))throw new U(`Expected an integer in column '${t}', got string: ${e}`);if(!Number.isSafeInteger(i))throw new U(`Integer value in column '${t}' is too large to represent as a JavaScript number without loss of precision, got: ${e}. Consider using BigInt type.`);return i}default:throw new U(`Expected an integer in column '${t}', got ${typeof e}: ${e}`)}case"bigint":{if(typeof e!="number"&&typeof e!="string")throw new U(`Expected a bigint in column '${t}', got ${typeof e}: ${e}`);return{$type:"BigInt",value:e}}case"float":{if(typeof e=="number")return e;if(typeof e=="string"){let i=Number(e);if(Number.isNaN(i)&&!/^[-+]?nan$/.test(e.toLowerCase()))throw new U(`Expected a float in column '${t}', got string: ${e}`);return i}throw new U(`Expected a float in column '${t}', got ${typeof e}: ${e}`)}case"boolean":{if(typeof e=="boolean")return e;if(typeof e=="number")return e===1;if(typeof e=="string"){if(e==="true"||e==="TRUE"||e==="1")return!0;if(e==="false"||e==="FALSE"||e==="0")return!1;throw new U(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}if(Array.isArray(e)||e instanceof Uint8Array){for(let i of e)if(i!==0)return!0;return!1}throw new U(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}case"decimal":if(typeof e!="number"&&typeof e!="string"&&!Ip.isDecimal(e))throw new U(`Expected a decimal in column '${t}', got ${typeof e}: ${e}`);return{$type:"Decimal",value:e};case"datetime":{if(typeof e=="string")return{$type:"DateTime",value:Dp(e)};if(typeof e=="number"||e instanceof Date)return{$type:"DateTime",value:e};throw new U(`Expected a date in column '${t}', got ${typeof e}: ${e}`)}case"object":return{$type:"Json",value:Me(e)};case"json":return{$type:"Json",value:`${e}`};case"bytes":{switch(r.encoding){case"base64":if(typeof e!="string")throw new U(`Expected a base64-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:e};case"hex":if(typeof e!="string"||!e.startsWith("\\x"))throw new U(`Expected a hex-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:g.from(e.slice(2),"hex").toString("base64")};case"array":if(Array.isArray(e))return{$type:"Bytes",value:g.from(e).toString("base64")};if(e instanceof Uint8Array)return{$type:"Bytes",value:g.from(e).toString("base64")};throw new U(`Expected a byte array in column '${t}', got ${typeof e}: ${e}`);default:M(r.encoding,`DataMapper: Unknown bytes encoding: ${r.encoding}`)}break}case"enum":{let i=n[r.name];if(i===void 0)throw new U(`Unknown enum '${r.name}'`);let o=i[`${e}`];if(o===void 0)throw new U(`Value '${e}' not found in enum '${r.name}'`);return o}default:M(r,`DataMapper: Unknown result type: ${r.type}`)}}var Np=/\d{2}:\d{2}:\d{2}(?:\.\d+)?(Z|[+-]\d{2}(:?\d{2})?)?$/;function Dp(e){let t=Np.exec(e);if(t===null)return`${e}T00:00:00Z`;let r=e,[n,i,o]=t;if(i!==void 0&&i!=="Z"&&o===void 0?r=`${e}:00`:i===void 0&&(r=`${e}Z`),n.length===e.length)return`1970-01-01T${r}`;let s=t.index-1;return r[s]===" "&&(r=`${r.slice(0,s)}T${r.slice(s+1)}`),r}u();l();c();p();d();u();l();c();p();d();function le(e){if(typeof e!="object")return e;var t,r,n=Object.prototype.toString.call(e);if(n==="[object Object]"){if(e.constructor!==Object&&typeof e.constructor=="function"){r=new e.constructor;for(t in e)e.hasOwnProperty(t)&&r[t]!==e[t]&&(r[t]=le(e[t]))}else{r={};for(t in e)t==="__proto__"?Object.defineProperty(r,t,{value:le(e[t]),configurable:!0,enumerable:!0,writable:!0}):r[t]=le(e[t])}return r}if(n==="[object Array]"){for(t=e.length,r=Array(t);t--;)r[t]=le(e[t]);return r}return n==="[object Set]"?(r=new Set,e.forEach(function(i){r.add(le(i))}),r):n==="[object Map]"?(r=new Map,e.forEach(function(i,o){r.set(le(o),le(i))}),r):n==="[object Date]"?new Date(+e):n==="[object RegExp]"?(r=new RegExp(e.source,e.flags),r.lastIndex=e.lastIndex,r):n==="[object DataView]"?new e.constructor(le(e.buffer)):n==="[object ArrayBuffer]"?e.slice(0):n.slice(-6)==="Array]"?new e.constructor(e):e}u();l();c();p();d();function Mp(e){let t=Object.entries(e);return t.length===0?"":(t.sort(([n],[i])=>n.localeCompare(i)),`/*${t.map(([n,i])=>{let o=encodeURIComponent(n),s=encodeURIComponent(i).replace(/'/g,"\\'");return`${o}='${s}'`}).join(",")}*/`)}function Gr(e,t){let r={};for(let n of e){let i=n(le(t));for(let[o,s]of Object.entries(i))s!==void 0&&(r[o]=s)}return r}function Ks(e,t){let r=Gr(e,t);return Mp(r)}function Zs(e,t){return t?`${e} ${t}`:e}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();var Gt;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(Gt||(Gt={}));function Lp(e){switch(e){case"postgresql":case"postgres":case"prisma+postgres":return"postgresql";case"sqlserver":return"mssql";case"mysql":case"sqlite":case"cockroachdb":case"mongodb":return e;default:M(e,`Unknown provider: ${e}`)}}async function Wr({query:e,tracingHelper:t,provider:r,onQuery:n,execute:i}){let o=n===void 0?i:async()=>{let s=new Date,a=w.now(),m=await i(),f=w.now();return n({timestamp:s,duration:f-a,query:e.sql,params:e.args}),m};return t.isEnabled()?await t.runInChildSpan({name:"db_query",kind:Gt.CLIENT,attributes:{"db.query.text":e.sql,"db.system.name":Lp(r)}},o):o()}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();function He(e,t){var r="000000000"+e;return r.substr(r.length-t)}var Ys=Ve(Co(),1);function _p(){try{return Ys.default.hostname()}catch{return y.env._CLUSTER_NETWORK_NAME_||y.env.COMPUTERNAME||"hostname"}}var Xs=2,Fp=He(y.pid.toString(36),Xs),ea=_p(),$p=ea.length,Up=He(ea.split("").reduce(function(e,t){return+e+t.charCodeAt(0)},+$p+36).toString(36),Xs);function ri(){return Fp+Up}u();l();c();p();d();u();l();c();p();d();function zr(e){return typeof e=="string"&&/^c[a-z0-9]{20,32}$/.test(e)}function ni(e){let n=Math.pow(36,4),i=0;function o(){return He((Math.random()*n<<0).toString(36),4)}function s(){return i=i<n?i:0,i++,i-1}function a(){var m="c",f=new Date().getTime().toString(36),P=He(s().toString(36),4),A=e(),v=o()+o();return m+f+P+A+v}return a.fingerprint=e,a.isCuid=zr,a}var Vp=ni(ri);var ta=Vp;var Ya=Ve(Ja());u();l();c();p();d();Qe();u();l();c();p();d();var Ha="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var vd=128,We,Et;function Rd(e){!We||We.length<e?(We=g.allocUnsafe(e*vd),Dt.getRandomValues(We),Et=0):Et+e>We.length&&(Dt.getRandomValues(We),Et=0),Et+=e}function di(e=21){Rd(e|=0);let t="";for(let r=Et-e;r<Et;r++)t+=Ha[We[r]&63];return t}u();l();c();p();d();Qe();var Wa="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Xt=32;var Cd=16,za=10,Ga=0xffffffffffff;var ze;(function(e){e.Base32IncorrectEncoding="B32_ENC_INVALID",e.DecodeTimeInvalidCharacter="DEC_TIME_CHAR",e.DecodeTimeValueMalformed="DEC_TIME_MALFORMED",e.EncodeTimeNegative="ENC_TIME_NEG",e.EncodeTimeSizeExceeded="ENC_TIME_SIZE_EXCEED",e.EncodeTimeValueMalformed="ENC_TIME_MALFORMED",e.PRNGDetectFailure="PRNG_DETECT",e.ULIDInvalid="ULID_INVALID",e.Unexpected="UNEXPECTED",e.UUIDInvalid="UUID_INVALID"})(ze||(ze={}));var Ke=class extends Error{constructor(t,r){super(`${r} (${t})`),this.name="ULIDError",this.code=t}};function Id(e){let t=Math.floor(e()*Xt);return t===Xt&&(t=Xt-1),Wa.charAt(t)}function kd(e){let t=Od(),r=t&&(t.crypto||t.msCrypto)||(typeof nt<"u"?nt:null);if(typeof r?.getRandomValues=="function")return()=>{let n=new Uint8Array(1);return r.getRandomValues(n),n[0]/255};if(typeof r?.randomBytes=="function")return()=>r.randomBytes(1).readUInt8()/255;if(nt?.randomBytes)return()=>nt.randomBytes(1).readUInt8()/255;throw new Ke(ze.PRNGDetectFailure,"Failed to find a reliable PRNG")}function Od(){return Md()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}function Nd(e,t){let r="";for(;e>0;e--)r=Id(t)+r;return r}function Dd(e,t=za){if(isNaN(e))throw new Ke(ze.EncodeTimeValueMalformed,`Time must be a number: ${e}`);if(e>Ga)throw new Ke(ze.EncodeTimeSizeExceeded,`Cannot encode a time larger than ${Ga}: ${e}`);if(e<0)throw new Ke(ze.EncodeTimeNegative,`Time must be positive: ${e}`);if(Number.isInteger(e)===!1)throw new Ke(ze.EncodeTimeValueMalformed,`Time must be an integer: ${e}`);let r,n="";for(let i=t;i>0;i--)r=e%Xt,n=Wa.charAt(r)+n,e=(e-r)/Xt;return n}function Md(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function Ka(e,t){let r=t||kd(),n=!e||isNaN(e)?Date.now():e;return Dd(n,za)+Nd(Cd,r)}u();l();c();p();d();u();l();c();p();d();var Z=[];for(let e=0;e<256;++e)Z.push((e+256).toString(16).slice(1));function Xr(e,t=0){return(Z[e[t+0]]+Z[e[t+1]]+Z[e[t+2]]+Z[e[t+3]]+"-"+Z[e[t+4]]+Z[e[t+5]]+"-"+Z[e[t+6]]+Z[e[t+7]]+"-"+Z[e[t+8]]+Z[e[t+9]]+"-"+Z[e[t+10]]+Z[e[t+11]]+Z[e[t+12]]+Z[e[t+13]]+Z[e[t+14]]+Z[e[t+15]]).toLowerCase()}u();l();c();p();d();Qe();var tn=new Uint8Array(256),en=tn.length;function Pt(){return en>tn.length-16&&(xr(tn),en=0),tn.slice(en,en+=16)}u();l();c();p();d();u();l();c();p();d();Qe();var mi={randomUUID:br};function Ld(e,t,r){if(mi.randomUUID&&!t&&!e)return mi.randomUUID();e=e||{};let n=e.random??e.rng?.()??Pt();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return Xr(n)}var fi=Ld;u();l();c();p();d();var gi={};function _d(e,t,r){let n;if(e)n=Za(e.random??e.rng?.()??Pt(),e.msecs,e.seq,t,r);else{let i=Date.now(),o=Pt();Fd(gi,i,o),n=Za(o,gi.msecs,gi.seq,t,r)}return t??Xr(n)}function Fd(e,t,r){return e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,e.seq===0&&e.msecs++),e}function Za(e,t,r,n,i=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(!n)n=new Uint8Array(16),i=0;else if(i<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);return t??=Date.now(),r??=e[6]*127<<24|e[7]<<16|e[8]<<8|e[9],n[i++]=t/1099511627776&255,n[i++]=t/4294967296&255,n[i++]=t/16777216&255,n[i++]=t/65536&255,n[i++]=t/256&255,n[i++]=t&255,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|e[10]&3,n[i++]=e[11],n[i++]=e[12],n[i++]=e[13],n[i++]=e[14],n[i++]=e[15],n}var yi=_d;var rn=class{#e={};constructor(){this.register("uuid",new wi),this.register("cuid",new bi),this.register("ulid",new xi),this.register("nanoid",new Ei),this.register("product",new Pi)}snapshot(){return Object.create(this.#e,{now:{value:new hi}})}register(t,r){this.#e[t]=r}},hi=class{#e=new Date;generate(){return this.#e.toISOString()}},wi=class{generate(t){if(t===4)return fi();if(t===7)return yi();throw new Error("Invalid UUID generator arguments")}},bi=class{generate(t){if(t===1)return ta();if(t===2)return(0,Ya.createId)();throw new Error("Invalid CUID generator arguments")}},xi=class{generate(){return Ka()}},Ei=class{generate(t){if(typeof t=="number")return di(t);if(t===void 0)return di();throw new Error("Invalid Nanoid generator arguments")}},Pi=class{generate(t,r){if(t===void 0||r===void 0)throw new Error("Invalid Product generator arguments");return Array.isArray(t)&&Array.isArray(r)?t.flatMap(n=>r.map(i=>[n,i])):Array.isArray(t)?t.map(n=>[n,r]):Array.isArray(r)?r.map(n=>[t,n]):[[t,r]]}};u();l();c();p();d();function nn(e,t){return e==null?e:typeof e=="string"?nn(JSON.parse(e),t):Array.isArray(e)?Ud(e,t):$d(e,t)}function $d(e,t){if(t.pagination){let{skip:r,take:n,cursor:i}=t.pagination;if(r!==null&&r>0||n===0||i!==null&&!ht(e,i))return null}return eu(e,t.nested)}function eu(e,t){for(let[r,n]of Object.entries(t))e[r]=nn(e[r],n);return e}function Ud(e,t){if(t.distinct!==null){let r=t.linkingFields!==null?[...t.distinct,...t.linkingFields]:t.distinct;e=Vd(e,r)}return t.pagination&&(e=qd(e,t.pagination,t.linkingFields)),t.reverse&&e.reverse(),Object.keys(t.nested).length===0?e:e.map(r=>eu(r,t.nested))}function Vd(e,t){let r=new Set,n=[];for(let i of e){let o=Tt(i,t);r.has(o)||(r.add(o),n.push(i))}return n}function qd(e,t,r){if(r===null)return Xa(e,t);let n=new Map;for(let o of e){let s=Tt(o,r);n.has(s)||n.set(s,[]),n.get(s).push(o)}let i=Array.from(n.entries());return i.sort(([o],[s])=>o<s?-1:o>s?1:0),i.flatMap(([,o])=>Xa(o,t))}function Xa(e,{cursor:t,skip:r,take:n}){let i=t!==null?e.findIndex(a=>ht(a,t)):0;if(i===-1)return[];let o=i+(r??0),s=n!==null?o+n:e.length;return e.slice(o,s)}function Tt(e,t,r){let n=t.map((i,o)=>r?.[o]?e[i]!==null?r[o](e[i]):null:e[i]);return JSON.stringify(n)}u();l();c();p();d();u();l();c();p();d();function Ti(e){return typeof e=="object"&&e!==null&&e.prisma__type==="param"}function Ai(e){return typeof e=="object"&&e!==null&&e.prisma__type==="generatorCall"}function Ri(e,t,r,n){let i=e.args.map(o=>ce(o,t,r));switch(e.type){case"rawSql":return[Qd(e.sql,i,e.argTypes)];case"templateSql":return(e.chunkable?Hd(e.fragments,i,n):[i]).map(s=>{if(n!==void 0&&s.length>n)throw new K("The query parameter limit supported by your database is exceeded.","P2029");return Bd(e.fragments,e.placeholderFormat,s,e.argTypes)});default:M(e.type,"Invalid query type")}}function ce(e,t,r){for(;Jd(e);)if(Ti(e)){let n=t[e.prisma__value.name];if(n===void 0)throw new Error(`Missing value for query variable ${e.prisma__value.name}`);e=n}else if(Ai(e)){let{name:n,args:i}=e.prisma__value,o=r[n];if(!o)throw new Error(`Encountered an unknown generator '${n}'`);e=o.generate(...i.map(s=>ce(s,t,r)))}else M(e,`Unexpected unevaluated value type: ${e}`);return Array.isArray(e)&&(e=e.map(n=>ce(n,t,r))),e}function Bd(e,t,r,n){let i="",o={placeholderNumber:1},s=[],a=[];for(let m of vi(e,r,n)){if(i+=jd(m,t,o),m.type==="stringChunk")continue;let f=s.length,P=s.push(...tu(m))-f;if(m.argType.arity==="tuple"){if(P%m.argType.elements.length!==0)throw new Error(`Malformed query template. Expected the number of parameters to match the tuple arity, but got ${P} parameters for a tuple of arity ${m.argType.elements.length}.`);for(let A=0;A<P/m.argType.elements.length;A++)a.push(...m.argType.elements)}else for(let A=0;A<P;A++)a.push(m.argType)}return{sql:i,args:s,argTypes:a}}function jd(e,t,r){let n=e.type;switch(n){case"parameter":return Si(t,r.placeholderNumber++);case"stringChunk":return e.chunk;case"parameterTuple":return`(${e.value.length==0?"NULL":e.value.map(()=>{let o=Si(t,r.placeholderNumber++);return`${e.itemPrefix}${o}${e.itemSuffix}`}).join(e.itemSeparator)})`;case"parameterTupleList":return e.value.map(i=>{let o=i.map(()=>Si(t,r.placeholderNumber++)).join(e.itemSeparator);return`${e.itemPrefix}${o}${e.itemSuffix}`}).join(e.groupSeparator);default:M(n,"Invalid fragment type")}}function Si(e,t){return e.hasNumbering?`${e.prefix}${t}`:e.prefix}function Qd(e,t,r){return{sql:e,args:t,argTypes:r}}function Jd(e){return Ti(e)||Ai(e)}function*vi(e,t,r){let n=0;for(let i of e)switch(i.type){case"parameter":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);yield{...i,value:t[n],argType:r?.[n]},n++;break}case"stringChunk":{yield i;break}case"parameterTuple":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];yield{...i,value:Array.isArray(o)?o:[o],argType:r?.[n]},n++;break}case"parameterTupleList":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];if(!Array.isArray(o))throw new Error("Malformed query template. Tuple list expected.");if(o.length===0)throw new Error("Malformed query template. Tuple list cannot be empty.");for(let s of o)if(!Array.isArray(s))throw new Error("Malformed query template. Tuple expected.");yield{...i,value:o,argType:r?.[n]},n++;break}}}function*tu(e){switch(e.type){case"parameter":yield e.value;break;case"stringChunk":break;case"parameterTuple":yield*e.value;break;case"parameterTupleList":for(let t of e.value)yield*t;break}}function Hd(e,t,r){let n=0,i=0;for(let s of vi(e,t,void 0)){let a=0;for(let m of tu(s))a++;i=Math.max(i,a),n+=a}let o=[[]];for(let s of vi(e,t,void 0))switch(s.type){case"parameter":{for(let a of o)a.push(s.value);break}case"stringChunk":break;case"parameterTuple":{let a=s.value.length,m=[];if(r&&o.length===1&&a===i&&n>r&&n-a<r){let f=r-(n-a);m=Gd(s.value,f)}else m=[s.value];o=o.flatMap(f=>m.map(P=>[...f,P]));break}case"parameterTupleList":{let a=s.value.reduce((A,v)=>A+v.length,0),m=[],f=[],P=0;for(let A of s.value)r&&o.length===1&&a===i&&f.length>0&&n-a+P+A.length>r&&(m.push(f),f=[],P=0),f.push(A),P+=A.length;f.length>0&&m.push(f),o=o.flatMap(A=>m.map(v=>[...A,v]));break}}return o}function Gd(e,t){let r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}u();l();c();p();d();function ru(e){return e.rows.map(t=>t.reduce((r,n,i)=>(r[e.columnNames[i]]=n,r),{}))}function nu(e){return{columns:e.columnNames,types:e.columnTypes.map(t=>Wd(t)),rows:e.rows.map(t=>t.map((r,n)=>er(r,e.columnTypes[n])))}}function er(e,t){if(e===null)return null;switch(t){case k.Int32:switch(typeof e){case"number":return Math.trunc(e);case"string":return Math.trunc(Number(e));default:throw new Error(`Cannot serialize value of type ${typeof e} as Int32`)}case k.Int32Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int32Array`);return e.map(r=>er(r,k.Int32));case k.Int64:switch(typeof e){case"number":return BigInt(Math.trunc(e));case"string":return e;default:throw new Error(`Cannot serialize value of type ${typeof e} as Int64`)}case k.Int64Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int64Array`);return e.map(r=>er(r,k.Int64));case k.Json:switch(typeof e){case"string":return JSON.parse(e);default:throw new Error(`Cannot serialize value of type ${typeof e} as Json`)}case k.JsonArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as JsonArray`);return e.map(r=>er(r,k.Json));case k.Boolean:switch(typeof e){case"boolean":return e;case"string":return e==="true"||e==="1";case"number":return e===1;default:throw new Error(`Cannot serialize value of type ${typeof e} as Boolean`)}case k.BooleanArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as BooleanArray`);return e.map(r=>er(r,k.Boolean));default:return e}}function Wd(e){switch(e){case k.Int32:return"int";case k.Int64:return"bigint";case k.Float:return"float";case k.Double:return"double";case k.Text:return"string";case k.Enum:return"enum";case k.Bytes:return"bytes";case k.Boolean:return"bool";case k.Character:return"char";case k.Numeric:return"decimal";case k.Json:return"json";case k.Uuid:return"uuid";case k.DateTime:return"datetime";case k.Date:return"date";case k.Time:return"time";case k.Int32Array:return"int-array";case k.Int64Array:return"bigint-array";case k.FloatArray:return"float-array";case k.DoubleArray:return"double-array";case k.TextArray:return"string-array";case k.EnumArray:return"string-array";case k.BytesArray:return"bytes-array";case k.BooleanArray:return"bool-array";case k.CharacterArray:return"char-array";case k.NumericArray:return"decimal-array";case k.JsonArray:return"json-array";case k.UuidArray:return"uuid-array";case k.DateTimeArray:return"datetime-array";case k.DateArray:return"date-array";case k.TimeArray:return"time-array";case k.UnknownNumber:return"unknown";case k.Set:return"string";default:M(e,`Unexpected column type: ${e}`)}}u();l();c();p();d();function iu(e,t,r){if(!t.every(n=>Ci(e,n))){let n=zd(e,r),i=Kd(r);throw new K(n,i,r.context)}}function Ci(e,t){switch(t.type){case"rowCountEq":return Array.isArray(e)?e.length===t.args:e===null?t.args===0:t.args===1;case"rowCountNeq":return Array.isArray(e)?e.length!==t.args:e===null?t.args!==0:t.args!==1;case"affectedRowCountEq":return e===t.args;case"never":return!1;default:M(t,`Unknown rule type: ${t.type}`)}}function zd(e,t){switch(t.errorIdentifier){case"RELATION_VIOLATION":return`The change you are trying to make would violate the required relation '${t.context.relation}' between the \`${t.context.modelA}\` and \`${t.context.modelB}\` models.`;case"MISSING_RECORD":return`An operation failed because it depends on one or more records that were required but not found. No record was found for ${t.context.operation}.`;case"MISSING_RELATED_RECORD":{let r=t.context.neededFor?` (needed to ${t.context.neededFor})`:"";return`An operation failed because it depends on one or more records that were required but not found. No '${t.context.model}' record${r} was found for ${t.context.operation} on ${t.context.relationType} relation '${t.context.relation}'.`}case"INCOMPLETE_CONNECT_INPUT":return`An operation failed because it depends on one or more records that were required but not found. Expected ${t.context.expectedRows} records to be connected, found only ${Array.isArray(e)?e.length:e}.`;case"INCOMPLETE_CONNECT_OUTPUT":return`The required connected records were not found. Expected ${t.context.expectedRows} records to be connected after connect operation on ${t.context.relationType} relation '${t.context.relation}', found ${Array.isArray(e)?e.length:e}.`;case"RECORDS_NOT_CONNECTED":return`The records for relation \`${t.context.relation}\` between the \`${t.context.parent}\` and \`${t.context.child}\` models are not connected.`;default:M(t,`Unknown error identifier: ${t}`)}}function Kd(e){switch(e.errorIdentifier){case"RELATION_VIOLATION":return"P2014";case"RECORDS_NOT_CONNECTED":return"P2017";case"INCOMPLETE_CONNECT_OUTPUT":return"P2018";case"MISSING_RECORD":case"MISSING_RELATED_RECORD":case"INCOMPLETE_CONNECT_INPUT":return"P2025";default:M(e,`Unknown error identifier: ${e}`)}}var tr=class e{#e;#t=new rn;#r;#n;#i;#o;#a;constructor({onQuery:t,tracingHelper:r,serializer:n,rawSerializer:i,provider:o,connectionInfo:s}){this.#e=t,this.#r=r,this.#n=n,this.#i=i??n,this.#o=o,this.#a=s}static forSql(t){return new e({onQuery:t.onQuery,tracingHelper:t.tracingHelper,serializer:ru,rawSerializer:nu,provider:t.provider,connectionInfo:t.connectionInfo})}async run(t,r){let{value:n}=await this.interpretNode(t,{...r,generators:this.#t.snapshot()}).catch(i=>wt(i));return n}async interpretNode(t,r){switch(t.type){case"value":return{value:ce(t.args,r.scope,r.generators)};case"seq":{let n;for(let i of t.args)n=await this.interpretNode(i,r);return n??{value:void 0}}case"get":return{value:r.scope[t.args.name]};case"let":{let n=Object.create(r.scope);for(let i of t.args.bindings){let{value:o}=await this.interpretNode(i.expr,{...r,scope:n});n[i.name]=o}return this.interpretNode(t.args.expr,{...r,scope:n})}case"getFirstNonEmpty":{for(let n of t.args.names){let i=r.scope[n];if(!ou(i))return{value:i}}return{value:[]}}case"concat":{let n=await Promise.all(t.args.map(i=>this.interpretNode(i,r).then(o=>o.value)));return{value:n.length>0?n.reduce((i,o)=>i.concat(Ii(o)),[]):[]}}case"sum":{let n=await Promise.all(t.args.map(i=>this.interpretNode(i,r).then(o=>o.value)));return{value:n.length>0?n.reduce((i,o)=>Pe(i)+Pe(o)):0}}case"execute":{let n=Ri(t.args,r.scope,r.generators,this.#s()),i=0;for(let o of n){let s=su(o,r.sqlCommenter);i+=await this.#u(s,r.queryable,()=>r.queryable.executeRaw(ki(s)).catch(a=>t.args.type==="rawSql"?Xn(a):wt(a)))}return{value:i}}case"query":{let n=Ri(t.args,r.scope,r.generators,this.#s()),i;for(let o of n){let s=su(o,r.sqlCommenter),a=await this.#u(s,r.queryable,()=>r.queryable.queryRaw(ki(s)).catch(m=>t.args.type==="rawSql"?Xn(m):wt(m)));i===void 0?i=a:(i.rows.push(...a.rows),i.lastInsertId=a.lastInsertId)}return{value:t.args.type==="rawSql"?this.#i(i):this.#n(i),lastInsertId:i?.lastInsertId}}case"reverse":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args,r);return{value:Array.isArray(n)?n.reverse():n,lastInsertId:i}}case"unique":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args,r);if(!Array.isArray(n))return{value:n,lastInsertId:i};if(n.length>1)throw new Error(`Expected zero or one element, got ${n.length}`);return{value:n[0]??null,lastInsertId:i}}case"required":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args,r);if(ou(n))throw new Error("Required value is empty");return{value:n,lastInsertId:i}}case"mapField":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.records,r);return{value:au(n,t.args.field),lastInsertId:i}}case"join":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.parent,r);if(n===null)return{value:null,lastInsertId:i};let o=await Promise.all(t.args.children.map(async s=>({joinExpr:s,childRecords:(await this.interpretNode(s.child,r)).value})));return{value:Zd(n,o,t.args.canAssumeStrictEquality),lastInsertId:i}}case"transaction":{if(!r.transactionManager.enabled)return this.interpretNode(t.args,r);let n=r.transactionManager.manager,i=await n.startInternalTransaction(),o=await n.getTransaction(i,"query");try{let s=await this.interpretNode(t.args,{...r,queryable:o});return await n.commitTransaction(i.id),s}catch(s){throw await n.rollbackTransaction(i.id),s}}case"dataMap":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r);return{value:zs(n,t.args.structure,t.args.enums),lastInsertId:i}}case"validate":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r);return iu(n,t.args.rules,t.args),{value:n,lastInsertId:i}}case"if":{let{value:n}=await this.interpretNode(t.args.value,r);return Ci(n,t.args.rule)?await this.interpretNode(t.args.then,r):await this.interpretNode(t.args.else,r)}case"unit":return{value:void 0};case"diff":{let{value:n}=await this.interpretNode(t.args.from,r),{value:i}=await this.interpretNode(t.args.to,r),o=a=>a!==null?Tt(rr(a),t.args.fields):null,s=new Set(Ii(i).map(o));return{value:Ii(n).filter(a=>!s.has(o(a)))}}case"process":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r),o=ki(t.args.operations);return uu(o,r.scope,r.generators),{value:nn(n,o),lastInsertId:i}}case"initializeRecord":{let{lastInsertId:n}=await this.interpretNode(t.args.expr,r),i={};for(let[o,s]of Object.entries(t.args.fields))i[o]=Xd(s,n,r.scope,r.generators);return{value:i,lastInsertId:n}}case"mapRecord":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r),o=n===null?{}:rr(n);for(let[s,a]of Object.entries(t.args.fields))o[s]=em(a,o[s],r.scope,r.generators);return{value:o,lastInsertId:i}}default:M(t,`Unexpected node type: ${t.type}`)}}#s(){return this.#a?.maxBindValues!==void 0?this.#a.maxBindValues:this.#l()}#l(){if(this.#o!==void 0)switch(this.#o){case"cockroachdb":case"postgres":case"postgresql":case"prisma+postgres":return 32766;case"mysql":return 65535;case"sqlite":return 999;case"sqlserver":return 2098;case"mongodb":return;default:M(this.#o,`Unexpected provider: ${this.#o}`)}}#u(t,r,n){return Wr({query:t,execute:n,provider:this.#o??r.provider,tracingHelper:this.#r,onQuery:this.#e})}};function ou(e){return Array.isArray(e)?e.length===0:e==null}function Ii(e){return Array.isArray(e)?e:[e]}function Pe(e){if(typeof e=="number")return e;if(typeof e=="string")return Number(e);throw new Error(`Expected number, got ${typeof e}`)}function rr(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Expected object, got ${typeof e}`)}function au(e,t){return Array.isArray(e)?e.map(r=>au(r,t)):typeof e=="object"&&e!==null?e[t]??null:e}function Zd(e,t,r){for(let{joinExpr:n,childRecords:i}of t){let o=n.on.map(([P])=>P),s=n.on.map(([,P])=>P),a={},m=Array.isArray(e)?e:[e];for(let P of m){let A=rr(P),v=Tt(A,o);a[v]||(a[v]=[]),a[v].push(A),n.isRelationUnique?A[n.parentField]=null:A[n.parentField]=[]}let f=r?void 0:Yd(m,o);for(let P of Array.isArray(i)?i:[i]){if(P===null)continue;let A=Tt(rr(P),s,f);for(let v of a[A]??[])n.isRelationUnique?v[n.parentField]=P:v[n.parentField].push(P)}}return e}function Yd(e,t){function r(o){switch(o){case"number":return Number;case"string":return String;case"boolean":return Boolean;case"bigint":return BigInt;default:return}}let n=Array.from({length:t.length}),i=0;for(let o of e){let s=rr(o);for(let[a,m]of t.entries())if(s[m]!==null&&n[a]===void 0){let f=r(typeof s[m]);f!==void 0&&(n[a]=f),i++}if(i===t.length)break}return n}function Xd(e,t,r,n){switch(e.type){case"value":return ce(e.value,r,n);case"lastInsertId":return t;default:M(e,`Unexpected field initializer type: ${e.type}`)}}function em(e,t,r,n){switch(e.type){case"set":return ce(e.value,r,n);case"add":return Pe(t)+Pe(ce(e.value,r,n));case"subtract":return Pe(t)-Pe(ce(e.value,r,n));case"multiply":return Pe(t)*Pe(ce(e.value,r,n));case"divide":{let i=Pe(t),o=Pe(ce(e.value,r,n));return o===0?null:i/o}default:M(e,`Unexpected field operation type: ${e.type}`)}}function su(e,t){if(!t||t.plugins.length===0)return e;let r=Ks(t.plugins,{query:t.queryInfo,sql:e.sql});return r?{...e,sql:Zs(e.sql,r)}:e}function uu(e,t,r){let n=e.pagination?.cursor;if(n)for(let[i,o]of Object.entries(n))n[i]=ce(o,t,r);for(let i of Object.values(e.nested))uu(i,t,r)}function ki(e){return le(e)}u();l();c();p();d();u();l();c();p();d();async function tm(){return globalThis.crypto??await Promise.resolve().then(()=>(Qe(),On))}async function lu(){return(await tm()).randomUUID()}u();l();c();p();d();async function cu(e,t){return new Promise(r=>{e.addEventListener(t,r,{once:!0})})}u();l();c();p();d();var pe=class extends K{name="TransactionManagerError";constructor(t,r){super("Transaction API error: "+t,"P2028",r)}},nr=class extends pe{constructor(){super("Transaction not found. Transaction ID is invalid, refers to an old closed transaction Prisma doesn't have information about anymore, or was obtained before disconnecting.")}},on=class extends pe{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a committed transaction.`)}},sn=class extends pe{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a transaction that was rolled back.`)}},an=class extends pe{constructor(){super("Unable to start a transaction in the given time.")}},un=class extends pe{constructor(t,{timeout:r,timeTaken:n}){super(`A ${t} cannot be executed on an expired transaction. The timeout for this transaction was ${r} ms, however ${n} ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction.`,{operation:t,timeout:r,timeTaken:n})}},At=class extends pe{constructor(t){super(`Internal Consistency Error: ${t}`)}},ln=class extends pe{constructor(t){super(`Invalid isolation level: ${t}`,{isolationLevel:t})}};var rm=100,St=ee("prisma:client:transactionManager"),nm=()=>({sql:"COMMIT",args:[],argTypes:[]}),im=()=>({sql:"ROLLBACK",args:[],argTypes:[]}),om=()=>({sql:'-- Implicit "COMMIT" query via underlying driver',args:[],argTypes:[]}),sm=()=>({sql:'-- Implicit "ROLLBACK" query via underlying driver',args:[],argTypes:[]}),ir=class{transactions=new Map;closedTransactions=[];driverAdapter;transactionOptions;tracingHelper;#e;#t;constructor({driverAdapter:t,transactionOptions:r,tracingHelper:n,onQuery:i,provider:o}){this.driverAdapter=t,this.transactionOptions=r,this.tracingHelper=n,this.#e=i,this.#t=o}async startInternalTransaction(t){let r=t!==void 0?this.#a(t):{};return await this.tracingHelper.runInChildSpan("start_transaction",()=>this.#r(r))}async startTransaction(t){let r=t!==void 0?this.#a(t):this.transactionOptions;return await this.tracingHelper.runInChildSpan("start_transaction",()=>this.#r(r))}async#r(t){let r={id:await lu(),status:"waiting",timer:void 0,timeout:t.timeout,startedAt:Date.now(),transaction:void 0},n=new AbortController,i=pu(()=>n.abort(),t.maxWait);i?.unref?.();let o=this.driverAdapter.startTransaction(t.isolationLevel).catch(wt);switch(r.transaction=await Promise.race([o.finally(()=>clearTimeout(i)),cu(n.signal,"abort").then(()=>{})]),this.transactions.set(r.id,r),r.status){case"waiting":if(n.signal.aborted)throw o.then(s=>s.rollback()).catch(s=>St("error in discarded transaction:",s)),await this.#o(r,"timed_out"),new an;return r.status="running",r.timer=this.#i(r.id,t.timeout),{id:r.id};case"timed_out":case"running":case"committed":case"rolled_back":throw new At(`Transaction in invalid state ${r.status} although it just finished startup.`);default:M(r.status,"Unknown transaction status.")}}async commitTransaction(t){return await this.tracingHelper.runInChildSpan("commit_transaction",async()=>{let r=this.#n(t,"commit");await this.#o(r,"committed")})}async rollbackTransaction(t){return await this.tracingHelper.runInChildSpan("rollback_transaction",async()=>{let r=this.#n(t,"rollback");await this.#o(r,"rolled_back")})}async getTransaction(t,r){let n=this.#n(t.id,r);if(n.status==="closing"&&(await n.closing,n=this.#n(t.id,r)),!n.transaction)throw new nr;return n.transaction}#n(t,r){let n=this.transactions.get(t);if(!n){let i=this.closedTransactions.find(o=>o.id===t);if(i)switch(St("Transaction already closed.",{transactionId:t,status:i.status}),i.status){case"closing":case"waiting":case"running":throw new At("Active transaction found in closed transactions list.");case"committed":throw new on(r);case"rolled_back":throw new sn(r);case"timed_out":throw new un(r,{timeout:i.timeout,timeTaken:Date.now()-i.startedAt})}else throw St("Transaction not found.",t),new nr}if(["committed","rolled_back","timed_out"].includes(n.status))throw new At("Closed transaction found in active transactions map.");return n}async cancelAllTransactions(){await Promise.allSettled([...this.transactions.values()].map(t=>this.#o(t,"rolled_back")))}#i(t,r){let n=Date.now(),i=pu(async()=>{St("Transaction timed out.",{transactionId:t,timeoutStartedAt:n,timeout:r});let o=this.transactions.get(t);o&&["running","waiting"].includes(o.status)?await this.#o(o,"timed_out"):St("Transaction already committed or rolled back when timeout happened.",t)},r);return i?.unref?.(),i}async#o(t,r){let n=async()=>{St("Closing transaction.",{transactionId:t.id,status:r});try{if(t.transaction&&r==="committed")if(t.transaction.options.usePhantomQuery)await this.#s(om(),t.transaction,()=>t.transaction.commit());else{let i=nm();await this.#s(i,t.transaction,()=>t.transaction.executeRaw(i)).then(()=>t.transaction.commit(),o=>{let s=()=>Promise.reject(o);return t.transaction.rollback().then(s,s)})}else if(t.transaction)if(t.transaction.options.usePhantomQuery)await this.#s(sm(),t.transaction,()=>t.transaction.rollback());else{let i=im();try{await this.#s(i,t.transaction,()=>t.transaction.executeRaw(i))}finally{await t.transaction.rollback()}}}finally{t.status=r,clearTimeout(t.timer),t.timer=void 0,this.transactions.delete(t.id),this.closedTransactions.push(t),this.closedTransactions.length>rm&&this.closedTransactions.shift()}};t.status==="closing"?(await t.closing,this.#n(t.id,r==="committed"?"commit":"rollback")):await Object.assign(t,{status:"closing",reason:r,closing:n()}).closing}#a(t){if(!t.timeout)throw new pe("timeout is required");if(!t.maxWait)throw new pe("maxWait is required");if(t.isolationLevel==="SNAPSHOT")throw new ln(t.isolationLevel);return{...t,timeout:t.timeout,maxWait:t.maxWait}}#s(t,r,n){return Wr({query:t,execute:n,provider:this.#t??r.provider,tracingHelper:this.tracingHelper,onQuery:this.#e})}};function pu(e,t){return t!==void 0?setTimeout(e,t):void 0}import{PrismaClientInitializationError as _i,PrismaClientKnownRequestError as Fi,PrismaClientRustPanicError as sr,PrismaClientUnknownRequestError as qu}from"@prisma/client-runtime-utils";u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();function du(e){return new Oi(e).deserialize()}function am(e){return g.from(e,"base64url")}var Oi=class{#e;#t;#r=0;constructor(t){this.#e=t;let r=am(t.graph);this.#t=new DataView(r.buffer,r.byteOffset,r.byteLength)}deserialize(){let{inputNodeCount:t,outputNodeCount:r,rootCount:n}=this.#s(),i=this.#l(t),o=this.#u(r),s=this.#p(n);return{strings:this.#e.strings,inputNodes:i,outputNodes:o,roots:s}}#n(){let t=0,r=0,n;do n=this.#t.getUint8(this.#r++),t|=(n&127)<<r,r+=7;while(n>=128);return t}#i(){let t=this.#n();return t===0?void 0:t-1}#o(){let t=this.#t.getUint8(this.#r);return this.#r+=1,t}#a(){let t=this.#t.getUint16(this.#r,!0);return this.#r+=2,t}#s(){let t=this.#n(),r=this.#n(),n=this.#n();return{inputNodeCount:t,outputNodeCount:r,rootCount:n}}#l(t){let r=[];for(let n=0;n<t;n++){let i=this.#n(),o={};for(let s=0;s<i;s++){let a=this.#n(),m=this.#a(),f=this.#i(),P=this.#i(),v={flags:this.#o()};m!==0&&(v.scalarMask=m),f!==void 0&&(v.childNodeId=f),P!==void 0&&(v.enumNameIndex=P),o[a]=v}r.push({edges:o})}return r}#u(t){let r=[];for(let n=0;n<t;n++){let i=this.#n(),o={};for(let s=0;s<i;s++){let a=this.#n(),m=this.#i(),f=this.#i(),P={};m!==void 0&&(P.argsNodeId=m),f!==void 0&&(P.outputNodeId=f),o[a]=P}r.push({edges:o})}return r}#p(t){let r={};for(let n=0;n<t;n++){let i=this.#n(),o=this.#i(),s=this.#i(),a=this.#e.strings[i],m={};o!==void 0&&(m.argsNodeId=o),s!==void 0&&(m.outputNodeId=s),r[a]=m}return r}};var or=class e{#e;#t;#r;constructor(t,r){this.#e=t,this.#r=r,this.#t=new Map;for(let n=0;n<t.strings.length;n++)this.#t.set(t.strings[n],n)}static deserialize(t,r){let n=du(t);return new e(n,r)}static fromData(t,r){return new e(t,r)}root(t){let r=this.#e.roots[t];if(r)return{argsNodeId:r.argsNodeId,outputNodeId:r.outputNodeId}}inputNode(t){if(!(t===void 0||t<0||t>=this.#e.inputNodes.length))return{id:t}}outputNode(t){if(!(t===void 0||t<0||t>=this.#e.outputNodes.length))return{id:t}}inputEdge(t,r){if(!t)return;let n=this.#e.inputNodes[t.id];if(!n)return;let i=this.#t.get(r);if(i===void 0)return;let o=n.edges[i];if(o)return{flags:o.flags,childNodeId:o.childNodeId,scalarMask:o.scalarMask??0,enumNameIndex:o.enumNameIndex}}outputEdge(t,r){if(!t)return;let n=this.#e.outputNodes[t.id];if(!n)return;let i=this.#t.get(r);if(i===void 0)return;let o=n.edges[i];if(o)return{argsNodeId:o.argsNodeId,outputNodeId:o.outputNodeId}}enumValues(t){if(t?.enumNameIndex===void 0)return;let r=this.#e.strings[t.enumNameIndex];if(r)return this.#r(r)}getString(t){return this.#e.strings[t]}},Te={ParamScalar:1,ParamEnum:2,ParamListScalar:4,ParamListEnum:8,ListObject:16,Object:32},Y={String:1,Int:2,BigInt:4,Float:8,Decimal:16,Boolean:32,DateTime:64,Json:128,Bytes:256};function Ae(e,t){return(e.flags&t)!==0}function $e(e){return e.scalarMask}var cn="7.4.2";u();l();c();p();d();var mu={bigint:"bigint",date:"datetime",decimal:"decimal",bytes:"bytes"};function gu(e){let t;try{t=JSON.parse(e)}catch(i){throw new Error(`Received invalid serialized parameters: ${i.message}`)}if(!Array.isArray(t))throw new Error("Received invalid serialized parameters: expected an array");let r=t.map(i=>yu(i)),n=t.map(i=>lm(i));return{args:r,argTypes:n}}function yu(e){if(Array.isArray(e))return e.map(t=>yu(t));if(typeof e=="object"&&e!==null&&"prisma__value"in e){if(!("prisma__type"in e))throw new Error("Invalid serialized parameter, prisma__type should be present when prisma__value is present");return`${e.prisma__value}`}return typeof e=="object"&&e!==null?JSON.stringify(e):e}function lm(e){return Array.isArray(e)?{scalarType:e.length>0?fu(e[0]):"unknown",arity:"list"}:{scalarType:fu(e),arity:"scalar"}}function fu(e){return typeof e=="object"&&e!==null&&"prisma__type"in e&&typeof e.prisma__type=="string"&&e.prisma__type in mu?mu[e.prisma__type]:typeof e=="number"?"decimal":typeof e=="string"?"string":"unknown"}u();l();c();p();d();function hu(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}u();l();c();p();d();u();l();c();p();d();function wu(e){return e?e.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,t=>`${t[0]}5`):""}u();l();c();p();d();function bu(e){return e.split(`
`).map(t=>t.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}u();l();c();p();d();var xu=Ve(_o());function Eu({title:e,user:t="prisma",repo:r="prisma",template:n="bug_report.yml",body:i}){return(0,xu.default)({user:t,repo:r,template:n,title:e,body:i})}function Pu({version:e,binaryTarget:t,title:r,description:n,engineVersion:i,database:o,query:s}){let a=So(6e3-(s?.length??0)),m=bu(it(a)),f=n?`# Description
\`\`\`
${n}
\`\`\``:"",P=it(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${y.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${i?.padEnd(19)}|
| Database        | ${o?.padEnd(19)}|

${f}

## Logs
\`\`\`
${m}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${s?wu(s):""}
\`\`\`
`),A=Eu({title:r,body:P});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${wr(A)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}u();l();c();p();d();var pn=class e{#e;#t;#r;#n;#i;constructor(t,r,n){this.#e=t,this.#t=r,this.#r=n,this.#n=r.getConnectionInfo?.(),this.#i=tr.forSql({onQuery:this.#e.onQuery,tracingHelper:this.#e.tracingHelper,provider:this.#e.provider,connectionInfo:this.#n})}static async connect(t){let r,n;try{r=await t.driverAdapterFactory.connect(),n=new ir({driverAdapter:r,transactionOptions:t.transactionOptions,tracingHelper:t.tracingHelper,onQuery:t.onQuery,provider:t.provider})}catch(i){throw await r?.dispose(),i}return new e(t,r,n)}getConnectionInfo(){let t=this.#n??{supportsRelationJoins:!1};return Promise.resolve({provider:this.#t.provider,connectionInfo:t})}async execute({plan:t,placeholderValues:r,transaction:n,batchIndex:i,queryInfo:o}){let s=n?await this.#r.getTransaction(n,i!==void 0?"batch query":"query"):this.#t;return await this.#i.run(t,{queryable:s,transactionManager:n?{enabled:!1}:{enabled:!0,manager:this.#r},scope:r,sqlCommenter:this.#e.sqlCommenters&&{plugins:this.#e.sqlCommenters,queryInfo:o}})}async startTransaction(t){return{...await this.#r.startTransaction(t),payload:void 0}}async commitTransaction(t){await this.#r.commitTransaction(t.id)}async rollbackTransaction(t){await this.#r.rollbackTransaction(t.id)}async disconnect(){try{await this.#r.cancelAllTransactions()}finally{await this.#t.dispose()}}apiKey(){return null}};u();l();c();p();d();u();l();c();p();d();var cm=new Set(["DateTime","Decimal","BigInt","Bytes","Json","Raw"]);function dn(e){if(e==null)return{kind:"null"};if(typeof e=="string")return{kind:"primitive",value:e};if(typeof e=="number")return{kind:"primitive",value:e};if(typeof e=="boolean")return{kind:"primitive",value:e};if(Array.isArray(e))return{kind:"array",items:e};if(typeof e=="object"){let t=e;if("$type"in t&&typeof t.$type=="string"){let r=t.$type;return cm.has(r)?{kind:"taggedScalar",tag:r,value:t.value}:{kind:"structural",value:t.value}}return{kind:"object",entries:t}}return{kind:"structural",value:e}}function Tu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!("$type"in e)}function Au(e){return typeof e=="object"&&e!==null&&"$type"in e&&typeof e.$type=="string"}function vu(e,t){let r=new mn(t),n=e.modelName?`${e.modelName}.${e.action}`:e.action,i=t.root(n);return{parameterizedQuery:{...e,query:r.parameterizeFieldSelection(e.query,i?.argsNodeId,i?.outputNodeId)},placeholderValues:r.getPlaceholderValues()}}function Ru(e,t){let r=new mn(t),n=[];for(let i=0;i<e.batch.length;i++){let o=e.batch[i],s=o.modelName?`${o.modelName}.${o.action}`:o.action,a=t.root(s);n.push({...o,query:r.parameterizeFieldSelection(o.query,a?.argsNodeId,a?.outputNodeId)})}return{parameterizedBatch:{...e,batch:n},placeholderValues:r.getPlaceholderValues()}}var mn=class{#e;#t=new Map;#r=new Map;#n=1;constructor(t){this.#e=t}getPlaceholderValues(){return Object.fromEntries(this.#t)}#i(t,r){let n=dm(t,r),i=this.#r.get(n);if(i!==void 0)return Su(i,r);let o=`%${this.#n++}`;return this.#r.set(n,o),this.#t.set(o,t),Su(o,r)}parameterizeFieldSelection(t,r,n){let i=this.#e.inputNode(r),o=this.#e.outputNode(n),s={...t};return t.arguments&&t.arguments.$type!=="Raw"&&(s.arguments=this.#o(t.arguments,i)),t.selection&&(s.selection=this.#c(t.selection,o)),s}#o(t,r){if(!r)return t;let n={};for(let[i,o]of Object.entries(t)){let s=this.#e.inputEdge(r,i);s?n[i]=this.#a(o,s):n[i]=o}return n}#a(t,r){let n=dn(t);switch(n.kind){case"null":return t;case"structural":return t;case"primitive":return this.#s(n.value,r);case"taggedScalar":return this.#l(t,n.tag,r);case"array":return this.#u(n.items,t,r);case"object":return this.#p(n.entries,r);default:throw new Error(`Unknown value kind ${n.kind}`)}}#s(t,r){if(Ae(r,Te.ParamEnum)&&r.enumNameIndex!==void 0&&typeof t=="string"&&this.#e.enumValues(r)?.includes(t)){let s={type:"Enum"};return this.#i(t,s)}if(!Ae(r,Te.ParamScalar))return t;let n=$e(r);if(n===0)return t;let i=Ni(t);return Iu(i,n)?(n&Y.Json&&(t=JSON.stringify(t)),this.#i(t,i)):t}#l(t,r,n){if(!Ae(n,Te.ParamScalar))return t;let i=$e(n);if(i===0||!Ou(r,i))return t;let o=ku(t.$type),s=Nu(t);return this.#i(s,o)}#u(t,r,n){if(Ae(n,Te.ParamScalar)&&$e(n)&Y.Json){let i=Me(Ee(t)),o={type:"Json"};return this.#i(i,o)}if(Ae(n,Te.ParamEnum)){let i=this.#e.enumValues(n);if(i&&t.every(o=>typeof o=="string"&&i.includes(o))){let o={type:"List",inner:{type:"Enum"}};return this.#i(t,o)}}if(Ae(n,Te.ParamListScalar)&&t.every(o=>hm(o,n))&&t.length>0){let o=t.map(m=>wm(m)),a={type:"List",inner:gm(t)};return this.#i(o,a)}if(Ae(n,Te.ListObject)){let i=this.#e.inputNode(n.childNodeId);if(i)return t.map(o=>Tu(o)?this.#o(o,i):o)}return r}#p(t,r){if(Ae(r,Te.Object)){let i=this.#e.inputNode(r.childNodeId);if(i)return this.#o(t,i)}if($e(r)&Y.Json){let i=Me(Ee(t)),o={type:"Json"};return this.#i(i,o)}return t}#c(t,r){if(!t||!r)return t;let n={};for(let[i,o]of Object.entries(t)){if(i==="$scalars"||i==="$composites"||typeof o=="boolean"){n[i]=o;continue}let s=this.#e.outputEdge(r,i);if(s){let a=o,m=this.#e.inputNode(s.argsNodeId),f=this.#e.outputNode(s.outputNodeId),P={selection:a.selection?this.#c(a.selection,f):{}};a.arguments&&(P.arguments=this.#o(a.arguments,m)),n[i]=P}else n[i]=o}return n}};function Su(e,t){return{$type:"Param",value:{name:e,...t}}}function Cu(e){return e.type==="List"?`List<${Cu(e.inner)}>`:e.type}function pm(e){return ArrayBuffer.isView(e)?g.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"):JSON.stringify(e)}function dm(e,t){let r=Cu(t),n=pm(e);return`${r}:${n}`}var mm=2**31-1,fm=-(2**31);function Ni(e){switch(typeof e){case"boolean":return{type:"Boolean"};case"number":return Number.isInteger(e)?fm<=e&&e<=mm?{type:"Int"}:{type:"BigInt"}:{type:"Float"};case"string":return{type:"String"};default:throw new Error("unreachable")}}function Iu({type:e},t){switch(e){case"Boolean":return(t&Y.Boolean)!==0;case"Int":return(t&(Y.Int|Y.BigInt|Y.Float))!==0;case"BigInt":return(t&Y.BigInt)!==0;case"Float":return(t&Y.Float)!==0;case"String":return(t&Y.String)!==0;default:return!1}}function ku(e){switch(e){case"BigInt":case"Bytes":case"DateTime":case"Json":return{type:e};case"Decimal":return{type:"Float"};default:return}}function gm(e){let t={type:"Any"};for(let r of e){let n=dn(r),i;switch(n.kind){case"primitive":i=Ni(n.value);break;case"taggedScalar":i=ku(n.tag)??{type:"Any"};break;default:return{type:"Any"}}t=ym(t,i)}return t}function ym(e,t){if(e.type==="Any")return t;if(t.type==="Any"||e.type===t.type)return e;let r={Int:0,BigInt:1,Float:2},n=r[e.type],i=r[t.type];return n!==void 0&&i!==void 0?n>=i?e:t:{type:"Any"}}function Ou(e,t){switch(e){case"DateTime":return(t&Y.DateTime)!==0;case"Decimal":return(t&Y.Decimal)!==0;case"BigInt":return(t&Y.BigInt)!==0;case"Bytes":return(t&Y.Bytes)!==0;case"Json":return(t&Y.Json)!==0;default:return!1}}function hm(e,t){let r=dn(e);switch(r.kind){case"structural":return!1;case"null":return!1;case"primitive":{let n=Ni(r.value),i=$e(t);return i!==0&&Iu(n,i)}case"taggedScalar":{let n=$e(t);return n!==0&&Ou(r.tag,n)}default:return!1}}function wm(e){return Au(e)?Nu(e):e}function Nu(e){return e.value}u();l();c();p();d();var fn=class{#e;#t;#r;constructor(t=1e3){this.#e=new Map,this.#t=new Map,this.#r=t}getSingle(t){let r=this.#e.get(t);return r&&(this.#e.delete(t),this.#e.set(t,r)),r}setSingle(t,r){if(this.#e.has(t)){this.#e.delete(t),this.#e.set(t,r);return}if(this.#e.size>=this.#r){let n=this.#e.keys().next().value;n!==void 0&&this.#e.delete(n)}this.#e.set(t,r)}getBatch(t){let r=this.#t.get(t);return r&&(this.#t.delete(t),this.#t.set(t,r)),r}setBatch(t,r){if(this.#t.has(t)){this.#t.delete(t),this.#t.set(t,r);return}if(this.#t.size>=this.#r){let n=this.#t.keys().next().value;n!==void 0&&this.#t.delete(n)}this.#t.set(t,r)}clear(){this.#e.clear(),this.#t.clear()}get size(){return this.#e.size+this.#t.size}get singleCacheSize(){return this.#e.size}get batchCacheSize(){return this.#t.size}};u();l();c();p();d();import{PrismaClientKnownRequestError as Pm}from"@prisma/client-runtime-utils";u();l();c();p();d();var gn=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function Du(e,t,r){let n=r||{},i=n.encode||encodeURIComponent;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!gn.test(e))throw new TypeError("argument name is invalid");let o=i(t);if(o&&!gn.test(o))throw new TypeError("argument val is invalid");let s=e+"="+o;if(n.maxAge!==void 0&&n.maxAge!==null){let a=n.maxAge-0;if(Number.isNaN(a)||!Number.isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(n.domain){if(!gn.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!gn.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if(!bm(n.expires)||Number.isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":{s+="; Priority=Low";break}case"medium":{s+="; Priority=Medium";break}case"high":{s+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:{s+="; SameSite=Strict";break}case"lax":{s+="; SameSite=Lax";break}case"strict":{s+="; SameSite=Strict";break}case"none":{s+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(s+="; Partitioned"),s}function bm(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function Mu(e,t){let r=(e||"").split(";").filter(m=>typeof m=="string"&&!!m.trim()),n=r.shift()||"",i=xm(n),o=i.name,s=i.value;try{s=t?.decode===!1?s:(t?.decode||decodeURIComponent)(s)}catch{}let a={name:o,value:s};for(let m of r){let f=m.split("="),P=(f.shift()||"").trimStart().toLowerCase(),A=f.join("=");switch(P){case"expires":{a.expires=new Date(A);break}case"max-age":{a.maxAge=Number.parseInt(A,10);break}case"secure":{a.secure=!0;break}case"httponly":{a.httpOnly=!0;break}case"samesite":{a.sameSite=A;break}default:a[P]=A}}return a}function xm(e){let t="",r="",n=e.split("=");return n.length>1?(t=n.shift(),r=n.join("=")):r=e,{name:t,value:r}}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();var yn=class extends Error{clientVersion;cause;constructor(t,r){super(t),this.clientVersion=r.clientVersion,this.cause=r.cause}get[Symbol.toStringTag](){return this.name}};var hn=class extends yn{isRetryable;constructor(t,r){super(t,r),this.isRetryable=r.isRetryable??!0}};u();l();c();p();d();function Lu(e,t){return{...e,isRetryable:t}}var Ze=class extends hn{name="InvalidDatasourceError";code="P6001";constructor(t,r){super(t,Lu(r,!1))}};_t(Ze,"InvalidDatasourceError");function _u(e){let t={clientVersion:e.clientVersion},r;try{r=new URL(e.accelerateUrl)}catch(m){let f=m.message;throw new Ze(`Error validating \`accelerateUrl\`, the URL cannot be parsed, reason: ${f}`,t)}let{protocol:n,searchParams:i}=r;if(n!=="prisma:"&&n!==Pr)throw new Ze("Error validating `accelerateUrl`: the URL must start with the protocol `prisma://` or `prisma+postgres://`",t);let o=i.get("api_key");if(o===null||o.length<1)throw new Ze("Error validating `accelerateUrl`: the URL must contain a valid API key",t);let s=Nn(r)?"http:":"https:";y.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&r.searchParams.has("use_http")&&(s="http:");let a=new URL(r.href.replace(n,s));return{apiKey:o,url:a}}u();l();c();p();d();var Fu=Ve(ko()),wn=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:t,tracingHelper:r,logLevel:n,logQueries:i,engineHash:o}){this.apiKey=t,this.tracingHelper=r,this.logLevel=n,this.logQueries=i,this.engineHash=o}build({traceparent:t,transactionId:r}={}){let n={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":Fu.enginesVersion};this.tracingHelper.isEnabled()&&(n.traceparent=t??this.tracingHelper.getTraceParent()),r&&(n["X-Transaction-Id"]=r);let i=this.#e();return i.length>0&&(n["X-Capture-Telemetry"]=i.join(", ")),n}#e(){let t=[];return this.tracingHelper.isEnabled()&&t.push("tracing"),this.logLevel&&t.push(this.logLevel),this.logQueries&&t.push("query"),t}};u();l();c();p();d();function Em(e){return e[0]*1e3+e[1]/1e6}function Di(e){return new Date(Em(e))}var $u=ee("prisma:client:clientEngine:remoteExecutor"),bn=class{#e;#t;#r;#n;#i;#o;constructor(t){this.#e=t.clientVersion,this.#n=t.logEmitter,this.#i=t.tracingHelper,this.#o=t.sqlCommenters;let{url:r,apiKey:n}=_u({clientVersion:t.clientVersion,accelerateUrl:t.accelerateUrl});this.#r=new Mi(r),this.#t=new wn({apiKey:n,engineHash:t.clientVersion,logLevel:t.logLevel,logQueries:t.logQueries,tracingHelper:t.tracingHelper})}async getConnectionInfo(){return await this.#a({path:"/connection-info",method:"GET"})}async execute({plan:t,placeholderValues:r,batchIndex:n,model:i,operation:o,transaction:s,customFetch:a,queryInfo:m}){let f=m&&this.#o?.length?Gr(this.#o,{query:m}):void 0;return(await this.#a({path:s?`/transaction/${s.id}/query`:"/query",method:"POST",body:{model:i,operation:o,plan:t,params:r,comments:f&&Object.keys(f).length>0?f:void 0},batchRequestIdx:n,fetch:a})).data}async startTransaction(t){return{...await this.#a({path:"/transaction/start",method:"POST",body:t}),payload:void 0}}async commitTransaction(t){await this.#a({path:`/transaction/${t.id}/commit`,method:"POST"})}async rollbackTransaction(t){await this.#a({path:`/transaction/${t.id}/rollback`,method:"POST"})}disconnect(){return Promise.resolve()}apiKey(){return this.#t.apiKey}async#a({path:t,method:r,body:n,fetch:i=globalThis.fetch,batchRequestIdx:o}){let s=await this.#r.request({method:r,path:t,headers:this.#t.build(),body:n,fetch:i});s.ok||await this.#s(s,o);let a=await s.json();return typeof a.extensions=="object"&&a.extensions!==null&&this.#l(a.extensions),a}async#s(t,r){let n=t.headers.get("Prisma-Error-Code"),i=await t.text(),o,s=i;try{o=JSON.parse(i)}catch{o={}}typeof o.code=="string"&&(n=o.code),typeof o.error=="string"?s=o.error:typeof o.message=="string"?s=o.message:typeof o.InvalidRequestError=="object"&&o.InvalidRequestError!==null&&typeof o.InvalidRequestError.reason=="string"&&(s=o.InvalidRequestError.reason),s=s||`HTTP ${t.status}: ${t.statusText}`;let a=typeof o.meta=="object"&&o.meta!==null?o.meta:o;throw new Pm(s,{clientVersion:this.#e,code:n??"P6000",batchRequestIdx:r,meta:a})}#l(t){if(t.logs)for(let r of t.logs)this.#u(r);t.spans&&this.#i.dispatchEngineSpans(t.spans)}#u(t){switch(t.level){case"debug":case"trace":$u(t);break;case"error":case"warn":case"info":{this.#n.emit(t.level,{timestamp:Di(t.timestamp),message:t.attributes.message??"",target:t.target??"RemoteExecutor"});break}case"query":{this.#n.emit("query",{query:t.attributes.query??"",timestamp:Di(t.timestamp),duration:t.attributes.duration_ms??0,params:t.attributes.params??"",target:t.target??"RemoteExecutor"});break}default:throw new Error(`Unexpected log level: ${t.level}`)}}},Mi=class{#e;#t;#r;constructor(t){this.#e=t,this.#t=new Map}async request({method:t,path:r,headers:n,body:i,fetch:o}){let s=new URL(r,this.#e),a=this.#n(s);a&&(n.Cookie=a),this.#r&&(n["Accelerate-Query-Engine-Jwt"]=this.#r);let m=await o(s.href,{method:t,body:i!==void 0?JSON.stringify(i):void 0,headers:n});return $u(t,s,m.status,m.statusText),this.#r=m.headers.get("Accelerate-Query-Engine-Jwt")??void 0,this.#i(s,m),m}#n(t){let r=[],n=new Date;for(let[i,o]of this.#t){if(o.expires&&o.expires<n){this.#t.delete(i);continue}let s=o.domain??t.hostname,a=o.path??"/";t.hostname.endsWith(s)&&t.pathname.startsWith(a)&&r.push(Du(o.name,o.value))}return r.length>0?r.join("; "):void 0}#i(t,r){let n=r.headers.getSetCookie?.()||[];if(n.length===0){let i=r.headers.get("Set-Cookie");i&&n.push(i)}for(let i of n){let o=Mu(i),s=o.domain??t.hostname,a=o.path??"/",m=`${s}:${a}:${o.name}`;this.#t.set(m,{name:o.name,value:o.value,domain:s,path:a,expires:o.expires})}}};u();l();c();p();d();import{PrismaClientInitializationError as Uu}from"@prisma/client-runtime-utils";var Li={},Vu={async loadQueryCompiler(e){let{clientVersion:t,compilerWasm:r}=e;if(r===void 0)throw new Uu("WASM query compiler was unexpectedly `undefined`",t);let n;return e.activeProvider===void 0||Li[e.activeProvider]===void 0?(n=(async()=>{let i=await r.getRuntime(),o=await r.getQueryCompilerWasmModule();if(o==null)throw new Uu("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let s={[r.importName]:i},a=new WebAssembly.Instance(o,s),m=a.exports.__wbindgen_start;return i.__wbg_set_wasm(a.exports),m(),i.QueryCompiler})(),e.activeProvider!==void 0&&(Li[e.activeProvider]=n)):n=Li[e.activeProvider],await n}};var Tm="P2038",Ie=ee("prisma:client:clientEngine"),Ju=globalThis;Ju.PRISMA_WASM_PANIC_REGISTRY={set_message(e){throw new sr(e,cn)}};var ar=class{name="ClientEngine";#e;#t={type:"disconnected"};#r;#n;#i;#o;config;datamodel;logEmitter;logQueries;logLevel;tracingHelper;#a;constructor(t,r){if(t.accelerateUrl!==void 0)this.#n={remote:!0,accelerateUrl:t.accelerateUrl};else if(t.adapter)this.#n={remote:!1,driverAdapterFactory:t.adapter},Ie("Using driver adapter: %O",t.adapter);else throw new _i("Missing configured driver adapter. Engine type `client` requires an active driver adapter. Please check your PrismaClient initialization code.",t.clientVersion,Tm);this.#r=r??Vu,this.config=t,this.logQueries=t.logQueries??!1,this.logLevel=t.logLevel??"error",this.logEmitter=t.logEmitter,this.datamodel=t.inlineSchema,this.tracingHelper=t.tracingHelper,this.#i=new fn,this.#o=or.deserialize(t.parameterizationSchema,n=>{if(Object.hasOwn(t.runtimeDataModel.enums,n))return t.runtimeDataModel.enums[n].values.map(i=>i.name)}),t.enableDebugLogs&&(this.logLevel="debug"),this.logQueries&&(this.#a=n=>{this.logEmitter.emit("query",{...n,params:Me(n.params),target:"ClientEngine"})})}async#s(){switch(this.#t.type){case"disconnected":{let t=this.tracingHelper.runInChildSpan("connect",async()=>{let r,n;try{r=await this.#l(),n=await this.#u(r)}catch(o){throw this.#t={type:"disconnected"},n?.free(),await r?.disconnect(),o}let i={executor:r,queryCompiler:n};return this.#t={type:"connected",engine:i},i});return this.#t={type:"connecting",promise:t},await t}case"connecting":return await this.#t.promise;case"connected":return this.#t.engine;case"disconnecting":return await this.#t.promise,await this.#s()}}async#l(){return this.#n.remote?new bn({clientVersion:this.config.clientVersion,accelerateUrl:this.#n.accelerateUrl,logEmitter:this.logEmitter,logLevel:this.logLevel,logQueries:this.logQueries,tracingHelper:this.tracingHelper,sqlCommenters:this.config.sqlCommenters}):await pn.connect({driverAdapterFactory:this.#n.driverAdapterFactory,tracingHelper:this.tracingHelper,transactionOptions:{...this.config.transactionOptions,isolationLevel:this.#g(this.config.transactionOptions.isolationLevel)},onQuery:this.#a,provider:this.config.activeProvider,sqlCommenters:this.config.sqlCommenters})}async#u(t){let r=this.#e;r===void 0&&(r=await this.#r.loadQueryCompiler(this.config),this.#e=r);let{provider:n,connectionInfo:i}=await t.getConnectionInfo();try{return this.#m(()=>new r({datamodel:this.datamodel,provider:n,connectionInfo:i}),void 0,!1)}catch(o){throw this.#p(o)}}#p(t){if(t instanceof sr)return t;try{let r=JSON.parse(t.message);return new _i(r.message,this.config.clientVersion,r.error_code)}catch{return t}}#c(t,r){if(t instanceof _i)return t;if(t.code==="GenericFailure"&&t.message?.startsWith("PANIC:"))return new sr(Bu(this,t.message,r),this.config.clientVersion);if(t instanceof K)return new Fi(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion});try{let n=JSON.parse(t);return new qu(`${n.message}
${n.backtrace}`,{clientVersion:this.config.clientVersion})}catch{return t}}#d(t){return t instanceof sr?t:typeof t.message=="string"&&typeof t.code=="string"?new Fi(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion}):typeof t.message=="string"?new qu(t.message,{clientVersion:this.config.clientVersion}):t}#m(t,r,n=!0){let i=Ju.PRISMA_WASM_PANIC_REGISTRY.set_message,o;globalThis.PRISMA_WASM_PANIC_REGISTRY.set_message=s=>{o=s};try{return t()}finally{if(globalThis.PRISMA_WASM_PANIC_REGISTRY.set_message=i,o)throw this.#e=void 0,n&&this.stop().catch(s=>Ie("failed to disconnect:",s)),new sr(Bu(this,o,r),this.config.clientVersion)}}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the client engine, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){await this.#s()}async stop(){switch(this.#t.type){case"disconnected":return;case"connecting":return await this.#t.promise,await this.stop();case"connected":{let t=this.#t.engine,r=this.tracingHelper.runInChildSpan("disconnect",async()=>{try{await t.executor.disconnect(),t.queryCompiler.free()}finally{this.#t={type:"disconnected"}}});return this.#t={type:"disconnecting",promise:r},await r}case"disconnecting":return await this.#t.promise}}version(){return"unknown"}async transaction(t,r,n){let i,{executor:o}=await this.#s();try{if(t==="start"){let s=n;i=await o.startTransaction({...s,isolationLevel:this.#g(s.isolationLevel)})}else if(t==="commit"){let s=n;await o.commitTransaction(s)}else if(t==="rollback"){let s=n;await o.rollbackTransaction(s)}else ve(t,"Invalid transaction action.")}catch(s){throw this.#c(s)}return i?{id:i.id,payload:void 0}:void 0}async request(t,{interactiveTransaction:r,customDataProxyFetch:n}){Ie("sending request");let{executor:i,queryCompiler:o}=await this.#s().catch(m=>{throw this.#c(m,JSON.stringify(t))}),s,a={};if(ju(t))s=Qu(t);else{let{parameterizedQuery:m,placeholderValues:f}=vu(t,this.#o),P=JSON.stringify(m);a=f;let A=this.#i.getSingle(P);A?(Ie("query plan cache hit"),s=A):(Ie("query plan cache miss"),s=this.#h(m,P,o),this.#i.setSingle(P,s))}try{Ie("query plan created",s);let m=await i.execute({plan:s,model:t.modelName,operation:t.action,placeholderValues:a,transaction:r,batchIndex:void 0,customFetch:n?.(globalThis.fetch),queryInfo:{type:"single",modelName:t.modelName,action:t.action,query:t.query}});return Ie("query plan executed"),{data:{[t.action]:m}}}catch(m){throw this.#c(m,JSON.stringify(t))}}async requestBatch(t,{transaction:r,customDataProxyFetch:n}){if(t.length===0)return[];let i=t[0].action,o=t[0].modelName,s=hu(t,r),a=JSON.stringify(s),{executor:m,queryCompiler:f}=await this.#s().catch(S=>{throw this.#c(S,a)}),P=o===void 0,A,v={};if(P)A=this.#f(t,a,f);else{let{parameterizedBatch:S,placeholderValues:N}=Ru(s,this.#o),C=JSON.stringify(S);v=N;let I=this.#i.getBatch(C);if(I)Ie("batch query plan cache hit"),A=I;else{Ie("batch query plan cache miss");try{A=this.#f(S.batch,C,f),this.#i.setBatch(C,A)}catch(X){throw this.#d(X)}}}try{let S;switch(r?.kind==="itx"&&(S=r.options),A.type){case"multi":{if(r?.kind!=="itx"){let I=r?.options.isolationLevel?{...this.config.transactionOptions,isolationLevel:r.options.isolationLevel}:this.config.transactionOptions;S=await this.transaction("start",{},I)}let N=[],C=!1;for(let[I,X]of A.plans.entries())try{let j=await m.execute({plan:X,placeholderValues:v,model:t[I].modelName,operation:t[I].action,batchIndex:I,transaction:S,customFetch:n?.(globalThis.fetch),queryInfo:{type:"single",...t[I]}});N.push({data:{[t[I].action]:j}})}catch(j){N.push(j),C=!0;break}return S!==void 0&&r?.kind!=="itx"&&(C?await this.transaction("rollback",{},S):await this.transaction("commit",{},S)),N}case"compacted":{if(!t.every(I=>I.action===i&&I.modelName===o)){let I=t.map(j=>j.action).join(", "),X=t.map(j=>j.modelName).join(", ");throw new Error(`Internal error: All queries in a compacted batch must have the same action and model name, but received actions: [${I}] and model names: [${X}]. This indicates a bug in the client. Please report this issue to the Prisma team with your query details.`)}if(o===void 0)throw new Error("Internal error: A compacted batch cannot contain raw queries. This indicates a bug in the client. Please report this issue to the Prisma team with your query details.");let N=await m.execute({plan:A.plan,placeholderValues:v,model:o,operation:i,batchIndex:void 0,transaction:S,customFetch:n?.(globalThis.fetch),queryInfo:{type:"compacted",action:i,modelName:o,queries:t}});return Hs(N,A,v).map(I=>({data:{[i]:I}}))}}}catch(S){throw this.#c(S,a)}}async apiKey(){let{executor:t}=await this.#s();return t.apiKey()}#h(t,r,n){try{return this.#m(()=>this.#y({queries:[t],execute:()=>n.compile(r)}))}catch(i){throw this.#d(i)}}#f(t,r,n){if(t.every(ju))return{type:"multi",plans:t.map(i=>Qu(i))};try{return this.#m(()=>this.#y({queries:t,execute:()=>n.compileBatch(r)}))}catch(i){throw this.#d(i)}}#g(t){switch(t){case void 0:return;case"ReadUncommitted":return"READ UNCOMMITTED";case"ReadCommitted":return"READ COMMITTED";case"RepeatableRead":return"REPEATABLE READ";case"Serializable":return"SERIALIZABLE";case"Snapshot":return"SNAPSHOT";default:throw new Fi(`Inconsistent column data: Conversion failed: Invalid isolation level \`${t}\``,{code:"P2023",clientVersion:this.config.clientVersion,meta:{providedIsolationLevel:t}})}}#y({queries:t,execute:r}){return this.tracingHelper.runInChildSpan({name:"compile",attributes:{models:t.map(n=>n.modelName).filter(n=>n!==void 0),actions:t.map(n=>n.action)}},r)}};function Bu(e,t,r){return Pu({binaryTarget:void 0,title:t,version:e.config.clientVersion,engineVersion:"unknown",database:e.config.activeProvider,query:r})}function ju(e){return e.action==="queryRaw"||e.action==="executeRaw"}function Qu(e){let t=e.query.arguments.query,{args:r,argTypes:n}=gu(e.query.arguments.parameters);return{type:e.action==="queryRaw"?"query":"execute",args:{type:"rawSql",sql:t,args:r,argTypes:n}}}function Hu(e){return new ar(e)}u();l();c();p();d();var Gu=e=>({command:e});u();l();c();p();d();import{Sql as vm}from"@prisma/client-runtime-utils";u();l();c();p();d();var Wu=e=>e.strings.reduce((t,r,n)=>`${t}@P${n}${r}`);u();l();c();p();d();import{Decimal as Am}from"@prisma/client-runtime-utils";function vt(e){try{return zu(e,"fast")}catch{return zu(e,"slow")}}function zu(e,t){return JSON.stringify(e.map(r=>Zu(r,t)))}function Zu(e,t){if(Array.isArray(e))return e.map(r=>Zu(r,t));if(typeof e=="bigint")return{prisma__type:"bigint",prisma__value:e.toString()};if(ot(e))return{prisma__type:"date",prisma__value:e.toJSON()};if(Am.isDecimal(e))return{prisma__type:"decimal",prisma__value:e.toJSON()};if(g.isBuffer(e))return{prisma__type:"bytes",prisma__value:e.toString("base64")};if(Sm(e))return{prisma__type:"bytes",prisma__value:g.from(e).toString("base64")};if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{prisma__type:"bytes",prisma__value:g.from(r,n,i).toString("base64")}}return typeof e=="object"&&t==="slow"?Yu(e):e}function Sm(e){return e instanceof ArrayBuffer||e instanceof SharedArrayBuffer?!0:typeof e=="object"&&e!==null?e[Symbol.toStringTag]==="ArrayBuffer"||e[Symbol.toStringTag]==="SharedArrayBuffer":!1}function Yu(e){if(typeof e!="object"||e===null)return e;if(typeof e.toJSON=="function")return e.toJSON();if(Array.isArray(e))return e.map(Ku);let t={};for(let r of Object.keys(e))t[r]=Ku(e[r]);return t}function Ku(e){return typeof e=="bigint"?e.toString():Yu(e)}var Rm=/^(\s*alter\s)/i,Xu=ee("prisma:client");function $i(e,t,r,n){if(!(e!=="postgresql"&&e!=="cockroachdb")&&r.length>0&&Rm.exec(t))throw new Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var Ui=({clientMethod:e,activeProvider:t})=>r=>{let n="",i;if(Ur(r))n=r.sql,i={values:vt(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[o,...s]=r;n=o,i={values:vt(s||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":{n=r.sql,i={values:vt(r.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=r.text,i={values:vt(r.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Wu(r),i={values:vt(r.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${t} provider does not support ${e}`)}return i?.values?Xu(`prisma.${e}(${n}, ${i.values})`):Xu(`prisma.${e}(${n})`),{query:n,parameters:i}},el={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[t,...r]=e;return new vm(t,r)}},tl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};u();l();c();p();d();function Vi(e){return function(r,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=rl(r(s)):rl(r(s))}catch(a){return Promise.reject(a)}};return{get spec(){return n},then(s,a){return o().then(s,a)},catch(s){return o().catch(s)},finally(s){return o().finally(s)},requestTransaction(s){let a=o(s);return a.requestTransaction?a.requestTransaction(s):a},[Symbol.toStringTag]:"PrismaPromise"}}}function rl(e){return typeof e.then=="function"?e:Promise.resolve(e)}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();var nl={name:"@prisma/instrumentation-contract",version:"7.4.2",description:"Shared types and utilities for Prisma instrumentation",main:"dist/index.js",module:"dist/index.mjs",types:"dist/index.d.ts",exports:{".":{require:{types:"./dist/index.d.ts",default:"./dist/index.js"},import:{types:"./dist/index.d.mts",default:"./dist/index.mjs"}}},license:"Apache-2.0",homepage:"https://www.prisma.io",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/instrumentation-contract"},bugs:"https://github.com/prisma/prisma/issues",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",prepublishOnly:"pnpm run build",test:"vitest run"},files:["dist"],sideEffects:!1,devDependencies:{"@opentelemetry/api":"1.9.0"},peerDependencies:{"@opentelemetry/api":"^1.8"}};var Im=nl.version.split(".")[0],km="PRISMA_INSTRUMENTATION",Om=`V${Im}_PRISMA_INSTRUMENTATION`,il=globalThis;function ol(){let e=il[Om];return e?.helper?e.helper:il[km]?.helper}var Nm={isEnabled(){return!1},getTraceParent(){return"00-10-10-00"},dispatchEngineSpans(){},getActiveContext(){},runInChildSpan(e,t){return t()}},qi=class{isEnabled(){return this.getTracingHelper().isEnabled()}getTraceParent(t){return this.getTracingHelper().getTraceParent(t)}dispatchEngineSpans(t){return this.getTracingHelper().dispatchEngineSpans(t)}getActiveContext(){return this.getTracingHelper().getActiveContext()}runInChildSpan(t,r){return this.getTracingHelper().runInChildSpan(t,r)}getTracingHelper(){return ol()??Nm}};function sl(){return new qi}u();l();c();p();d();function al(e,t=()=>{}){let r,n=new Promise(i=>r=i);return{then(i){return--e===0&&r(t()),i?.(n)}}}u();l();c();p();d();function ul(e){return typeof e=="string"?e:e.reduce((t,r)=>{let n=typeof r=="string"?r:r.level;return n==="query"?t:t&&(r==="info"||t==="info")?"info":n},void 0)}u();l();c();p();d();import{hasBatchIndex as _m}from"@prisma/client-runtime-utils";u();l();c();p();d();function ji(e){if(e.action!=="findUnique"&&e.action!=="findUniqueOrThrow")return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(Bi(e.query.arguments)),t.push(Bi(e.query.selection)),t.join("")}function Bi(e){return`(${Object.keys(e).sort().map(r=>{let n=e[r];return typeof n=="object"&&n!==null?`(${r} ${Bi(n)})`:r}).join(" ")})`}u();l();c();p();d();var Dm={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function Qi(e){return Dm[e]}u();l();c();p();d();var xn=class{constructor(t){this.options=t;this.batches={}}batches;tickActive=!1;request(t){let r=this.options.batchBy(t);return r?(this.batches[r]||(this.batches[r]=[],this.tickActive||(this.tickActive=!0,y.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((n,i)=>{this.batches[r].push({request:t,resolve:n,reject:i})})):this.options.singleLoader(t)}dispatchBatches(){for(let t in this.batches){let r=this.batches[t];delete this.batches[t],r.length===1?this.options.singleLoader(r[0].request).then(n=>{n instanceof Error?r[0].reject(n):r[0].resolve(n)}).catch(n=>{r[0].reject(n)}):(r.sort((n,i)=>this.options.batchOrder(n.request,i.request)),this.options.batchLoader(r.map(n=>n.request)).then(n=>{if(n instanceof Error)for(let i=0;i<r.length;i++)r[i].reject(n);else for(let i=0;i<r.length;i++){let o=n[i];o instanceof Error?r[i].reject(o):r[i].resolve(o)}}).catch(n=>{for(let i=0;i<r.length;i++)r[i].reject(n)}))}}get[Symbol.toStringTag](){return"DataLoader"}};u();l();c();p();d();import{Decimal as Mm}from"@prisma/client-runtime-utils";function Ye(e,t){if(t===null)return t;switch(e){case"bigint":return BigInt(t);case"bytes":{let{buffer:r,byteOffset:n,byteLength:i}=g.from(t,"base64");return new Uint8Array(r,n,i)}case"decimal":return new Mm(t);case"datetime":case"date":return new Date(t);case"time":return new Date(`1970-01-01T${t}Z`);case"bigint-array":return t.map(r=>Ye("bigint",r));case"bytes-array":return t.map(r=>Ye("bytes",r));case"decimal-array":return t.map(r=>Ye("decimal",r));case"datetime-array":return t.map(r=>Ye("datetime",r));case"date-array":return t.map(r=>Ye("date",r));case"time-array":return t.map(r=>Ye("time",r));default:return t}}function Ji(e){let t=[],r=Lm(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],o={...r};for(let s=0;s<i.length;s++)o[e.columns[s]]=Ye(e.types[s],i[s]);t.push(o)}return t}function Lm(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}var Fm=ee("prisma:client:request_handler"),Pn=class{client;dataloader;logEmitter;constructor(t,r){this.logEmitter=r,this.client=t,this.dataloader=new xn({batchLoader:Ls(async({requests:n,customDataProxyFetch:i})=>{let{transaction:o,otelParentCtx:s}=n[0],a=n.map(A=>A.protocolQuery),m=this.client._tracingHelper.getTraceParent(s),f=n.some(A=>Qi(A.protocolQuery.action));return(await this.client._engine.requestBatch(a,{traceparent:m,transaction:$m(o),containsWrite:f,customDataProxyFetch:i})).map((A,v)=>{if(A instanceof Error)return A;try{return this.mapQueryEngineResult(n[v],A)}catch(S){return S}})}),singleLoader:async n=>{let i=n.transaction?.kind==="itx"?ll(n.transaction):void 0,o=await this.client._engine.request(n.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:i,isWrite:Qi(n.protocolQuery.action),customDataProxyFetch:n.customDataProxyFetch});return this.mapQueryEngineResult(n,o)},batchBy:n=>{if(n.transaction?.kind==="itx"){let i=ji(n.protocolQuery);return`itx-${n.transaction.id}${i?`-${i}`:""}`}return n.transaction?.id?`transaction-${n.transaction.id}`:ji(n.protocolQuery)},batchOrder(n,i){return n.transaction?.kind==="batch"&&i.transaction?.kind==="batch"?n.transaction.index-i.transaction.index:0}})}async request(t){try{return await this.dataloader.request(t)}catch(r){let{clientMethod:n,callsite:i,transaction:o,args:s,modelName:a}=t;this.handleAndLogRequestError({error:r,clientMethod:n,callsite:i,transaction:o,args:s,modelName:a,globalOmit:t.globalOmit})}}mapQueryEngineResult({dataPath:t,unpacker:r},n){let i=n?.data,o=this.unpack(i,t,r);return y.env.PRISMA_CLIENT_GET_TIME?{data:o}:o}handleAndLogRequestError(t){try{this.handleRequestError(t)}catch(r){throw this.logEmitter&&this.logEmitter.emit("error",{message:r.message,target:t.clientMethod,timestamp:new Date}),r}}handleRequestError({error:t,clientMethod:r,callsite:n,transaction:i,args:o,modelName:s,globalOmit:a}){if(Fm(t),Um(t,i))throw t;if(t instanceof Hi&&Vm(t)){let f=cl(t.meta);Lr({args:o,errors:[f],callsite:n,errorFormat:this.client._errorFormat,originalMethod:r,clientVersion:this.client._clientVersion,globalOmit:a})}let m=t.message;if(n&&(m=Rr({callsite:n,originalMethod:r,isPanic:t.isPanic,showColors:this.client._errorFormat==="pretty",message:m})),m=this.sanitizeMessage(m),t.code){let f=s?{modelName:s,...t.meta}:t.meta;throw new Hi(m,{code:t.code,clientVersion:this.client._clientVersion,meta:f,batchRequestIdx:t.batchRequestIdx})}else{if(t.isPanic)throw new En(m,this.client._clientVersion);if(t instanceof Gi)throw new Gi(m,{clientVersion:this.client._clientVersion,batchRequestIdx:t.batchRequestIdx});if(t instanceof Xe)throw new Xe(m,this.client._clientVersion);if(t instanceof En)throw new En(m,this.client._clientVersion)}throw t.clientVersion=this.client._clientVersion,t}sanitizeMessage(t){return this.client._errorFormat&&this.client._errorFormat!=="pretty"?it(t):t}unpack(t,r,n){if(!t||(t.data&&(t=t.data),!t))return t;let i=Object.keys(t)[0],o=Object.values(t)[0],s=r.filter(f=>f!=="select"&&f!=="include"),a=Gn(o,s),m=i==="queryRaw"?Ji(a):Ee(a);return n?n(m):m}get[Symbol.toStringTag](){return"RequestHandler"}};function $m(e){if(e){if(e.kind==="batch")return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if(e.kind==="itx")return{kind:"itx",options:ll(e)};ve(e,"Unknown transaction kind")}}function ll(e){return{id:e.id,payload:e.payload}}function Um(e,t){return _m(e)&&t?.kind==="batch"&&e.batchRequestIdx!==t.index}function Vm(e){return e.code==="P2009"||e.code==="P2012"}function cl(e){if(e.kind==="Union")return{kind:"Union",errors:e.errors.map(cl)};if(Array.isArray(e.selectionPath)){let[,...t]=e.selectionPath;return{...e,selectionPath:t}}return e}u();l();c();p();d();var Wi=cn;u();l();c();p();d();var gl=Ve(Fn());u();l();c();p();d();var B=class extends Error{constructor(t){super(t+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};_t(B,"PrismaClientConstructorValidationError");var pl=["errorFormat","adapter","accelerateUrl","log","transactionOptions","omit","comments","__internal"],dl=["pretty","colorless","minimal"],ml=["info","query","warn","error"],qm={adapter:()=>{},accelerateUrl:e=>{if(e!==void 0){if(typeof e!="string")throw new B(`Invalid value ${JSON.stringify(e)} for "accelerateUrl" provided to PrismaClient constructor.`);if(e.trim().length===0)throw new B('"accelerateUrl" provided to PrismaClient constructor must be a non-empty string.')}},errorFormat:e=>{if(e){if(typeof e!="string")throw new B(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!dl.includes(e)){let t=ur(e,dl);throw new B(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(!e)return;if(!Array.isArray(e))throw new B(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);function t(r){if(typeof r=="string"&&!ml.includes(r)){let n=ur(r,ml);throw new B(`Invalid log level "${r}" provided to PrismaClient constructor.${n}`)}}for(let r of e){t(r);let n={level:t,emit:i=>{let o=["stdout","event"];if(!o.includes(i)){let s=ur(i,o);throw new B(`Invalid value ${JSON.stringify(i)} for "emit" in logLevel provided to PrismaClient constructor.${s}`)}}};if(r&&typeof r=="object")for(let[i,o]of Object.entries(r))if(n[i])n[i](o);else throw new B(`Invalid property ${i} for "log" provided to PrismaClient constructor`)}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(t!=null&&t<=0)throw new B(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(r!=null&&r<=0)throw new B(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if(typeof e!="object")throw new B('"omit" option is expected to be an object.');if(e===null)throw new B('"omit" option can not be `null`');let r=[];for(let[n,i]of Object.entries(e)){let o=Qm(n,t.runtimeDataModel);if(!o){r.push({kind:"UnknownModel",modelKey:n});continue}for(let[s,a]of Object.entries(i)){let m=o.fields.find(f=>f.name===s);if(!m){r.push({kind:"UnknownField",modelKey:n,fieldName:s});continue}if(m.relationName){r.push({kind:"RelationInOmit",modelKey:n,fieldName:s});continue}typeof a!="boolean"&&r.push({kind:"InvalidFieldValue",modelKey:n,fieldName:s})}}if(r.length>0)throw new B(Jm(e,r))},comments:e=>{if(e!==void 0){if(!Array.isArray(e))throw new B(`Invalid value ${JSON.stringify(e)} for "comments" provided to PrismaClient constructor. Expected an array of SQL commenter plugins.`);for(let t=0;t<e.length;t++)if(typeof e[t]!="function")throw new B(`Invalid value at index ${t} for "comments" provided to PrismaClient constructor. Each plugin must be a function.`)}},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if(typeof e!="object")throw new B(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let n=ur(r,t);throw new B(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${n}`)}}};function Bm(e){let t=e.adapter!==void 0,r=e.accelerateUrl!==void 0;if(t&&r)throw new B('The "adapter" and "accelerateUrl" options are mutually exclusive. Please provide only one of them.');if(!t&&!r)throw new B('Using engine type "client" requires either "adapter" or "accelerateUrl" to be provided to PrismaClient constructor.')}function yl(e,t){for(let[r,n]of Object.entries(e)){if(!pl.includes(r)){let i=ur(r,pl);throw new B(`Unknown property ${r} provided to PrismaClient constructor.${i}`)}qm[r](n,t)}Bm(e)}function ur(e,t){if(t.length===0||typeof e!="string")return"";let r=jm(e,t);return r?` Did you mean "${r}"?`:""}function jm(e,t){if(t.length===0)return null;let r=t.map(i=>({value:i,distance:(0,gl.default)(e,i)}));r.sort((i,o)=>i.distance<o.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}function Qm(e,t){return fl(t.models,e)??fl(t.types,e)}function fl(e,t){let r=Object.keys(e).find(n=>Oe(n)===t);if(r)return e[r]}function Jm(e,t){let r=mt(e);for(let o of t)switch(o.kind){case"UnknownModel":r.arguments.getField(o.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${o.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${o.modelKey}" does not have a field named "${o.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.");break}let{message:n,args:i}=Mr(r,"colorless");return`Error validating "omit" option:

${i}

${n}`}u();l();c();p();d();import{hasBatchIndex as Hm}from"@prisma/client-runtime-utils";function hl(e){return e.length===0?Promise.resolve([]):new Promise((t,r)=>{let n=new Array(e.length),i=null,o=!1,s=0,a=()=>{o||(s++,s===e.length&&(o=!0,i?r(i):t(n)))},m=f=>{o||(o=!0,r(f))};for(let f=0;f<e.length;f++)e[f].then(P=>{n[f]=P,a()},P=>{if(!Hm(P)){m(P);return}P.batchRequestIdx===f?m(P):(i||(i=P),a())})})}var lr=ee("prisma:client");typeof globalThis=="object"&&(globalThis.NODE_CLIENT=!0);var Wm={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},zm=Symbol.for("prisma.client.transaction.id"),Km={id:0,nextId(){return++this.id}};function Zm(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=Vi();constructor(n){if(!n)throw new Xe("`PrismaClient` needs to be constructed with a non-empty, valid `PrismaClientOptions`:\n\n```\nnew PrismaClient({\n  ...\n})\n```\n\nor\n\n```\nconstructor() {\n  super({ ... });\n}\n```\n          ",Wi);e=n.__internal?.configOverride?.(e)??e,yl(n,e);let i=new Vr().on("error",()=>{});this._extensions=ft.empty(),this._previewFeatures=e.previewFeatures,this._clientVersion=e.clientVersion??Wi,this._activeProvider=e.activeProvider,this._globalOmit=n?.omit,this._tracingHelper=sl();let o;if(n.adapter){o=n.adapter;let s=e.activeProvider==="postgresql"||e.activeProvider==="cockroachdb"?"postgres":e.activeProvider;if(o.provider!==s)throw new Xe(`The Driver Adapter \`${o.adapterName}\`, based on \`${o.provider}\`, is not compatible with the provider \`${s}\` specified in the Prisma schema.`,this._clientVersion)}try{let s=n??{},m=(s.__internal??{}).debug===!0;if(m&&ee.enable("prisma:client"),s.errorFormat?this._errorFormat=s.errorFormat:y.env.NODE_ENV==="production"?this._errorFormat="minimal":y.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={enableDebugLogs:m,logLevel:s.log&&ul(s.log),logQueries:s.log&&!!(typeof s.log=="string"?s.log==="query":s.log.find(f=>typeof f=="string"?f==="query":f.level==="query")),compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:s.transactionOptions?.maxWait??2e3,timeout:s.transactionOptions?.timeout??5e3,isolationLevel:s.transactionOptions?.isolationLevel},logEmitter:i,adapter:o,accelerateUrl:s.accelerateUrl,sqlCommenters:s.comments,parameterizationSchema:e.parameterizationSchema,runtimeDataModel:e.runtimeDataModel},this._accelerateEngineConfig=Object.create(this._engineConfig),this._accelerateEngineConfig.accelerateUtils={resolveDatasourceUrl:()=>{if(s.accelerateUrl)return s.accelerateUrl;throw new Xe(`\`accelerateUrl\` is required when using \`@prisma/extension-accelerate\`:

new PrismaClient({
  accelerateUrl: "prisma://...",
}).$extends(withAccelerate())
`,e.clientVersion)}},lr("clientVersion",e.clientVersion),this._engine=Hu(this._engineConfig),this._requestHandler=new Pn(this,i),s.log)for(let f of s.log){let P=typeof f=="string"?f:f.emit==="stdout"?f.level:null;P&&this.$on(P,A=>{Lt.log(`${Lt.tags[P]??""}`,A.message||A.query)})}}catch(s){throw s.clientVersion=this._clientVersion,s}return this._appliedParent=Jt(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(n,i){return n==="beforeExit"?this._engine.onBeforeExit(i):n&&this._engineConfig.logEmitter.on(n,i),this}$connect(){try{return this._engine.start()}catch(n){throw n.clientVersion=this._clientVersion,n}}async $disconnect(){try{await this._engine.stop()}catch(n){throw n.clientVersion=this._clientVersion,n}finally{vo()}}$executeRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:"executeRaw",args:o,transaction:n,clientMethod:i,argsMapper:Ui({clientMethod:i,activeProvider:a}),callsite:De(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$executeRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0){let[s,a]=wl(n,i);return $i(this._activeProvider,s.text,s.values,Array.isArray(n)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(o,"$executeRaw",s,a)}throw new cr("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(n,...i){return this._createPrismaPromise(o=>($i(this._activeProvider,n,i,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(o,"$executeRawUnsafe",[n,...i])))}$runCommandRaw(n){if(e.activeProvider!=="mongodb")throw new cr(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(i=>this._request({args:n,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:Gu,callsite:De(this._errorFormat),transaction:i}))}async $queryRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:"queryRaw",args:o,transaction:n,clientMethod:i,argsMapper:Ui({clientMethod:i,activeProvider:a}),callsite:De(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$queryRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0)return this.$queryRawInternal(o,"$queryRaw",...wl(n,i));throw new cr("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(n){return this._createPrismaPromise(i=>{if(!this._hasPreviewFlag("typedSql"))throw new cr("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(i,"$queryRawTyped",n)})}$queryRawUnsafe(n,...i){return this._createPrismaPromise(o=>this.$queryRawInternal(o,"$queryRawUnsafe",[n,...i]))}_transactionWithArray({promises:n,options:i}){let o=Km.nextId(),s=al(n.length),a=n.map((m,f)=>{if(m?.[Symbol.toStringTag]!=="PrismaPromise")throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let P=i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,A={kind:"batch",id:o,index:f,isolationLevel:P,lock:s};return m.requestTransaction?.(A)??m});return hl(a)}async _transactionWithCallback({callback:n,options:i}){let o={traceparent:this._tracingHelper.getTraceParent()},s={maxWait:i?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:i?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},a=await this._engine.transaction("start",o,s),m;try{let f={kind:"itx",...a};m=await n(this._createItxClient(f)),await this._engine.transaction("commit",o,a)}catch(f){throw await this._engine.transaction("rollback",o,a).catch(()=>{}),f}return m}_createItxClient(n){return me(Jt(me(As(this),[te("_appliedParent",()=>this._appliedParent._createItxClient(n)),te("_createPrismaPromise",()=>Vi(n)),te(zm,()=>n.id)])),[gt(Is)])}$transaction(n,i){let o;typeof n=="function"?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?o=()=>{throw new Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:o=()=>this._transactionWithCallback({callback:n,options:i}):o=()=>this._transactionWithArray({promises:n,options:i});let s={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(s,o)}_request(n){n.otelParentCtx=this._tracingHelper.getActiveContext();let i=n.middlewareArgsMapper??Wm,o={args:i.requestArgsToMiddlewareArgs(n.args),dataPath:n.dataPath,runInTransaction:!!n.transaction,action:n.action,model:n.model},s={operation:{name:"operation",attributes:{method:o.action,model:o.model,name:o.model?`${o.model}.${o.action}`:o.action}}},a=async m=>{let{runInTransaction:f,args:P,...A}=m,v={...n,...A};P&&(v.args=i.middlewareArgsToRequestArgs(P)),n.transaction!==void 0&&f===!1&&delete v.transaction;let S=await Ms(this,v);if(!v.model)return S;let N=Us({dataPath:v.dataPath,modelName:v.model,args:v.args,runtimeDataModel:this._runtimeDataModel});return Cs({result:S,modelName:N.modelName,args:N.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit})};return this._tracingHelper.runInChildSpan(s.operation,()=>a(o))}async _executeRequest({args:n,clientMethod:i,dataPath:o,callsite:s,action:a,model:m,argsMapper:f,transaction:P,unpacker:A,otelParentCtx:v,customDataProxyFetch:S}){try{n=f?f(n):n;let N={name:"serialize"},C=this._tracingHelper.runInChildSpan(N,()=>Bn({modelName:m,runtimeDataModel:this._runtimeDataModel,action:a,args:n,clientMethod:i,callsite:s,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return ee.enabled("prisma:client")&&(lr("Prisma Client call:"),lr(`prisma.${i}(${fs(n)})`),lr("Generated request:"),lr(JSON.stringify(C,null,2)+`
`)),P?.kind==="batch"&&await P.lock,this._requestHandler.request({protocolQuery:C,modelName:m,action:a,clientMethod:i,dataPath:o,callsite:s,args:n,extensions:this._extensions,transaction:P,unpacker:A,otelParentCtx:v,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:S})}catch(N){throw N.clientVersion=this._clientVersion,N}}_hasPreviewFlag(n){return!!this._engineConfig.previewFeatures?.includes(n)}$extends=Ss}return t}function wl(e,t){return Ym(e)?[new Gm(e,t),el]:[e,tl]}function Ym(e){return Array.isArray(e)&&Array.isArray(e.raw)}u();l();c();p();d();var Xm=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function ef(e){return new Proxy(e,{get(t,r){if(r in t)return t[r];if(!Xm.has(r))throw new TypeError(`Invalid enum value: ${String(r)}`)}})}u();l();c();p();d();var tf=()=>globalThis.process?.release?.name==="node",rf=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,nf=()=>!!globalThis.Deno,of=()=>typeof globalThis.Netlify=="object",sf=()=>typeof globalThis.EdgeRuntime=="object",af=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers";function uf(){return[[of,"netlify"],[sf,"edge-light"],[af,"workerd"],[nf,"deno"],[rf,"bun"],[tf,"node"]].flatMap(r=>r[0]()?[r[1]]:[]).at(0)??""}var lf={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function cf(){let e=uf();return{id:e,prettyName:lf[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}import{PrismaClientInitializationError as Xe,PrismaClientKnownRequestError as Hi,PrismaClientRustPanicError as En,PrismaClientUnknownRequestError as Gi,PrismaClientValidationError as cr}from"@prisma/client-runtime-utils";import{empty as Gq,join as Wq,raw as zq,Sql as Kq,sql as Zq}from"@prisma/client-runtime-utils";import{AnyNull as Xq,DbNull as eB,isAnyNull as tB,isDbNull as rB,isJsonNull as nB,JsonNull as iB,NullTypes as oB,ObjectEnumValue as sB}from"@prisma/client-runtime-utils";import{Decimal as uB}from"@prisma/client-runtime-utils";export{Xq as AnyNull,vr as DMMF,eB as DbNull,ee as Debug,uB as Decimal,lo as Extensions,iB as JsonNull,oB as NullTypes,sB as ObjectEnumValue,Xe as PrismaClientInitializationError,Hi as PrismaClientKnownRequestError,En as PrismaClientRustPanicError,Gi as PrismaClientUnknownRequestError,cr as PrismaClientValidationError,po as Public,Kq as Sql,Nc as createParam,Hc as defineDmmfProperty,Ee as deserializeJsonObject,Ji as deserializeRawResult,Fl as dmmfToRuntimeDataModel,Gq as empty,Zm as getPrismaClient,cf as getRuntime,tB as isAnyNull,rB as isDbNull,nB as isJsonNull,Wq as join,ef as makeStrictEnum,Wc as makeTypedQueryFactory,zq as raw,Bn as serializeJsonQuery,Vn as skip,Zq as sqltag,$o as warnOnce};
//# sourceMappingURL=wasm-compiler-edge.mjs.map
